/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gameConfig\": () => (/* binding */ gameConfig),\n/* harmony export */   \"svgConfig\": () => (/* binding */ svgConfig),\n/* harmony export */   \"webSocketConfig\": () => (/* binding */ webSocketConfig),\n/* harmony export */   \"menuConfig\": () => (/* binding */ menuConfig),\n/* harmony export */   \"sidebarConfig\": () => (/* binding */ sidebarConfig),\n/* harmony export */   \"playerConfig\": () => (/* binding */ playerConfig)\n/* harmony export */ });\nconst gameConfig = {\r\n    golfBallRadius: 0.8,\r\n    maxSpeed: 40,\r\n    frictionPerTime: 0.5,\r\n    speedThreshold: 0.5,\r\n    maxDirectionLineLength: 20,\r\n    framesPerSecond: 60,\r\n    gravity: Infinity,\r\n    directionLineStartColor: 'hsl(120, 100%, 50%)',\r\n    directionLineEndColor: 'hsl(0, 100%, 50%)',\r\n    interpolationsPerStep: 5,\r\n    announcementDuration: 1\r\n};\r\n\r\nconst svgConfig = {\r\n    golfBallAttributes: {'r': gameConfig.golfBallRadius, 'fill': 'white', 'stroke-width': 5, 'stroke': 'black', 'stroke-opacity': '0'},\r\n    \r\n    directionLineAttributes: {'stroke': gameConfig.directionLineStartColor, 'stroke-width': 0.5, 'fill': 'none', 'stroke-linecap': 'round'},\r\n    // The boundary is divided into two components.\r\n    // This is done to ensure that the drawn course is \r\n    // equal to the internal representation\r\n    boundaryAttributesOuter: {'stroke': 'black', 'stroke-width': 2, 'fill': 'none'},\r\n    boundaryAttributesInner: {'stroke-width': 0, 'fill': '#3ab93a'},\r\n    obstacleAttributes: {'stroke': 'white', 'fill': 'black'},\r\n    sandAttributes: {'stroke-width': 0, 'fill': '#c2b280'},\r\n    waterAttributes: {'stroke-width': 0, 'fill': '#1da2d8'},\r\n    windAttributes: {'stroke-width': 0, 'fill': '#ffffffaa'},\r\n    holeAttributes: {'r': 2.6*gameConfig.golfBallRadius, 'fill': 'black'},\r\n    // The amount of padding added to the viewbox, based on the AABB of the course\r\n    extentPadding: 0.1,\r\n    // When zooming with the scroll, by how much should each scroll zoom?\r\n    zoomFactor: 0.9,\r\n    // When zooming, the center of the viewbox is interpolated between the old\r\n    // center and the position of the mouse. How much weight should be given to\r\n    // the mouse position?\r\n    centerMouseInterpolation: 0.1,\r\n    scrollDelay: 0.02,\r\n};\r\nsvgConfig.boundaryAttributesInner['stroke-width'] = 0;\r\nsvgConfig.obstacleAttributes['stroke-width'] = 0;\r\n//svgConfig.boundaryAttributesOuter['stroke-width'] = 0;\r\n\r\nconst webSocketConfig = {\r\n    host: '84.212.77.102',\r\n    port: 5600,\r\n};\r\n\r\nconst menuConfig = {\r\n    transitionDuration: 0.5,\r\n};\r\n\r\nconst playerConfig = {\r\n    maxNameLength: 20\r\n}\r\n\r\nconst sidebarConfig = {\r\n    userNameSaturation: 50,\r\n    userNameBrightness: 60,\r\n}\r\n\r\n\n\n//# sourceURL=webpack://minigolf/./src/config.js?");

/***/ }),

/***/ "./src/game-resources/course.js":
/*!**************************************!*\
  !*** ./src/game-resources/course.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/svg-utilities */ \"./src/utilities/svg-utilities.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n/* harmony import */ var _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/math-utilities */ \"./src/utilities/math-utilities.js\");\n\r\n\r\n\r\n\r\n// vertices is an object containing two arrays: boundary and obstacles\r\n// boundary contains the vertices of the polygonal boundary, while\r\n// obstacles contains zero or more array of vertices for internal obstacles\r\nconst Course = function(courseData, rootSVGElement) {\r\n    const _boundaryVertices = courseData.boundary;\r\n    const _obstacles = courseData.obstacles;\r\n    const _covers = courseData.covers;\r\n    const _holePosition = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Vector(courseData.hole.position);\r\n    const _holeRadius = courseData.hole.radius;\r\n    let _courseElement;\r\n    const _courseAABB = {xMin: Infinity, xMax: -Infinity, \r\n        yMin: Infinity, yMax: -Infinity};\r\n\r\n    let edges = [];\r\n\r\n    // Vertices on boundary and obstacles should be in counter-clockwise\r\n    // and clockwise order, respectively\r\n    function _fixVertexOrientation() {\r\n        if (_computePolygonOrientation(_boundaryVertices) < 0) {\r\n            _boundaryVertices.reverse();\r\n        }\r\n\r\n        _obstacles?.forEach(obstacle => {\r\n            if (_computePolygonOrientation(obstacle) > 0) {\r\n                obstacle.reverse();\r\n            }\r\n        });\r\n    }\r\n\r\n    // Uses approach from https://en.wikipedia.org/wiki/Curve_orientation\r\n    function _computePolygonOrientation(polygon) {\r\n        const minXIndex = polygon.reduce((minIndex, curElem, curIndex, arr) => \r\n            minIndex = curElem.x < arr[minIndex].x ? curIndex : minIndex, \r\n            0);\r\n        const prevIndex = minXIndex === 0 ? polygon.length - 1 : minXIndex - 1;\r\n        const nextIndex = minXIndex === polygon.length - 1 ? 0 : minXIndex + 1;\r\n\r\n        const vertexA = polygon[prevIndex];\r\n        const vertexB = polygon[minXIndex];\r\n        const vertexC = polygon[nextIndex];\r\n\r\n        const determinant = (vertexB.x - vertexA.x)*(vertexC.y - vertexA.y) -\r\n                            (vertexC.x - vertexA.x)*(vertexB.y - vertexA.y)\r\n        return(Math.sign(determinant));\r\n    }\r\n\r\n    function _computeEdgesAndAABB() {\r\n        const boundaryVerticesLooped = [..._boundaryVertices];\r\n        boundaryVerticesLooped.push(boundaryVerticesLooped[0]);\r\n    \r\n        // Create array of edges from both boundary and inner obstacles\r\n        for (let i = 1; i < boundaryVerticesLooped.length; i++) {\r\n            const a = boundaryVerticesLooped[i-1];\r\n            const b = boundaryVerticesLooped[i];\r\n            edges.push(_utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Edge(\r\n                _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Vector(a), \r\n                _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Vector(b)));\r\n\r\n            _courseAABB.xMin = Math.min(_courseAABB.xMin, a.x);\r\n            _courseAABB.xMax = Math.max(_courseAABB.xMax, a.x);\r\n            _courseAABB.yMin = Math.min(_courseAABB.yMin, a.y);\r\n            _courseAABB.yMax = Math.max(_courseAABB.yMax, a.y);\r\n        }\r\n\r\n        _obstacles?.forEach(obstacleVertices => {\r\n            const obstacleVerticesLooped = [...obstacleVertices];\r\n            obstacleVerticesLooped.push(obstacleVerticesLooped[0]);\r\n            for (let i = 1; i < obstacleVerticesLooped.length; i++) {\r\n                const a = obstacleVerticesLooped[i-1];\r\n                const b = obstacleVerticesLooped[i];\r\n                edges.push(_utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Edge(\r\n                    _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Vector(a), \r\n                    _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Vector(b)));\r\n            }\r\n        });\r\n\r\n        _covers?.forEach(cover => {\r\n            cover.AABB = cover.vertices.reduce((coverAABB, curVertex) => {\r\n                coverAABB.xMin = Math.min(curVertex.x, coverAABB.xMin);\r\n                coverAABB.xMax = Math.max(curVertex.x, coverAABB.xMax);\r\n                coverAABB.yMin = Math.min(curVertex.y, coverAABB.yMin);\r\n                coverAABB.yMax = Math.max(curVertex.y, coverAABB.yMax);\r\n                return(coverAABB);\r\n            }, {xMin: Infinity, xMax: -Infinity, yMin: Infinity, yMax: -Infinity});\r\n        });\r\n    }\r\n\r\n    function draw() {\r\n        _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__.drawPolygon(_courseElement, _boundaryVertices, \r\n            _config__WEBPACK_IMPORTED_MODULE_1__.svgConfig.boundaryAttributesOuter, ['course-boundary', 'course-boundary-outer']);\r\n        _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__.drawPolygon(_courseElement, _boundaryVertices, \r\n            _config__WEBPACK_IMPORTED_MODULE_1__.svgConfig.boundaryAttributesInner, ['course-boundary', 'course-boundary-inner']);\r\n    \r\n        _obstacles?.forEach(obstacleVertices => {\r\n            _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__.drawPolygon(_courseElement, obstacleVertices, \r\n                _config__WEBPACK_IMPORTED_MODULE_1__.svgConfig.obstacleAttributes, ['course-obstacle']);\r\n            }\r\n        );\r\n\r\n        _covers?.forEach(cover => {\r\n            _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__.drawPolygon(_courseElement, cover.vertices, \r\n                _config__WEBPACK_IMPORTED_MODULE_1__.svgConfig[`${cover.type}Attributes`], ['course-obstacle']);\r\n            }\r\n        )\r\n        const holeAttributes = _config__WEBPACK_IMPORTED_MODULE_1__.svgConfig.holeAttributes;\r\n        holeAttributes.r = _holeRadius;\r\n        _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__.drawCircle(_courseElement, _holePosition, holeAttributes, ['course-hole']);\r\n    }\r\n\r\n    function destroy() {\r\n        _courseElement.remove();\r\n    }\r\n\r\n    function initialize() {\r\n        _courseElement = _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__.createGroupElement(['course-container']);\r\n        rootSVGElement.append(_courseElement);\r\n        _fixVertexOrientation();\r\n        _computeEdgesAndAABB();\r\n        draw();\r\n    }\r\n\r\n    function getBoundaryVertices() {\r\n        return(_boundaryVertices);\r\n    }\r\n\r\n    function getObstacles() {\r\n        return(_obstacles);\r\n    }\r\n\r\n    function getEdges() {\r\n        return(edges);\r\n    }\r\n\r\n    function getHole() {\r\n        return({position: _holePosition, radius: _holeRadius});\r\n    }\r\n\r\n    function getCourseAABB() {\r\n        return(_courseAABB);\r\n    }\r\n\r\n    return({ draw, initialize, getBoundaryVertices, getObstacles, getEdges,\r\n        getHole, destroy, getCourseAABB });\r\n};\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Course);\n\n//# sourceURL=webpack://minigolf/./src/game-resources/course.js?");

/***/ }),

/***/ "./src/game-resources/game-mechanics.js":
/*!**********************************************!*\
  !*** ./src/game-resources/game-mechanics.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/math-utilities */ \"./src/utilities/math-utilities.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n\r\n\r\n\r\nconst GameMechanics = function(game) {\r\n    const golfBall = game.getGolfBall();\r\n    const course = game.getCourse();\r\n    \r\n    // Create array of edges from both boundary and inner obstacles\r\n    const edges = course.getEdges();\r\n    const hole = course.getHole();\r\n    const upperPuttVelocity = Math.sqrt(_config__WEBPACK_IMPORTED_MODULE_1__.gameConfig.gravity / (2*golfBall.getRadius())) *\r\n        (2*hole.radius - golfBall.getRadius());\r\n\r\n    let collisionData;\r\n    let golfBallIsMoving = false;\r\n    let isFinished = false;\r\n    let previousTimeStamp;\r\n\r\n    function computeNextCollision() {\r\n        const golfBallPosition = golfBall.getPosition();\r\n        const golfBallDirection = golfBall.getDirection();\r\n        const directionVector = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.createUnitVector(golfBallDirection);\r\n        const golfBallPath = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.Path(golfBallPosition, directionVector);\r\n        // Paths that outline the extent covered by the motion of the golf ball\r\n        const outerPaths = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.getParallelPaths(golfBallPath, golfBall.getRadius());\r\n        \r\n        \r\n        // collisionData contains four properties: \"Time\" of collision (based\r\n        // on unit vector, not actual time), location of collision, center of\r\n        // golf ball at collision, and direction of golf ball after collision\r\n        let earliestCollisionData = {time: Infinity};\r\n\r\n        for (const edge of edges) {\r\n            const intersectionA = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.computePathEdgeIntersection(outerPaths.pathA, edge);\r\n            const intersectionB = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.computePathEdgeIntersection(outerPaths.pathB, edge);\r\n            if (intersectionA && intersectionB) {\r\n                const canCollide = checkIfCollisionCanHappen(intersectionA, intersectionB);\r\n                if (canCollide) {\r\n                    // Compute collision\r\n                    const collisionData = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.computeMovingCircleEdgeIntersection(\r\n                        golfBallPath, golfBall.getRadius(), edge);\r\n                    if (collisionData.time > 0 && \r\n                            collisionData.time < earliestCollisionData.time) {\r\n                        earliestCollisionData = collisionData;\r\n                    }\r\n                }\r\n            } \r\n        }\r\n        const collisionPointCenterVector = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.subtractVectors(earliestCollisionData.collisionPoint, \r\n            earliestCollisionData.collisionCenter);\r\n        let newDirectionVector = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.vectorReflection(directionVector,\r\n            collisionPointCenterVector);\r\n        newDirectionVector = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.scaleVector(newDirectionVector, -1);\r\n        const directionAfterCollision = Math.atan2(newDirectionVector.getY(), newDirectionVector.getX());\r\n        earliestCollisionData.directionAfterCollision = directionAfterCollision;\r\n        return(earliestCollisionData);\r\n\r\n    }\r\n    \r\n    function checkIfCollisionCanHappen(intersectionA, intersectionB) {\r\n        if ((_utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.isInRange(intersectionA.edgeParameter, 1, Infinity) && \r\n            _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.isInRange(intersectionB.edgeParameter, 1, Infinity)) ||\r\n            (_utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.isInRange(intersectionA.edgeParameter, -Infinity, 0) && \r\n            _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.isInRange(intersectionB.edgeParameter, -Infinity, 0))) {\r\n                return(false);\r\n            }\r\n        return(_utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.isInRange(intersectionA.pathParameter, 0, Infinity) ||\r\n               _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.isInRange(intersectionB.pathParameter, 0, Infinity))\r\n    }\r\n\r\n    function step(timeStep) {\r\n        if (!collisionData) {\r\n            collisionData = computeNextCollision();\r\n        }\r\n\r\n        const distanceToCollision = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.VectorDistance(golfBall.getPosition(), \r\n            collisionData.collisionCenter);\r\n        const nextStepLength = golfBall.getSpeed()*timeStep;\r\n\r\n        // If the next step is longer than the distance to the collision,\r\n        // we'll split it into two steps: a partial step equal to the distance\r\n        // to the collision, and a post-collision step using the remaining time\r\n        if (nextStepLength > distanceToCollision) {\r\n            // Partial step\r\n            const partialTimeStep = distanceToCollision / golfBall.getSpeed();\r\n            golfBall.step(partialTimeStep);\r\n            const oldSpeed = golfBall.getSpeed();\r\n            const newSpeed = (1 - _config__WEBPACK_IMPORTED_MODULE_1__.gameConfig.frictionPerTime*partialTimeStep)*oldSpeed;\r\n            golfBall.setSpeed(newSpeed);\r\n\r\n            // Change direction due to collision, and perform rest of step\r\n            golfBall.setDirection(collisionData.directionAfterCollision);\r\n            const remainingTimeStep = timeStep - partialTimeStep;\r\n            collisionData = null;\r\n            checkIfWon();\r\n\r\n            step(remainingTimeStep);\r\n        } else {\r\n            golfBall.step(timeStep);\r\n            const oldSpeed = golfBall.getSpeed();\r\n            const newSpeed = (1 - _config__WEBPACK_IMPORTED_MODULE_1__.gameConfig.frictionPerTime*timeStep)*oldSpeed;\r\n            golfBall.setSpeed(newSpeed);\r\n            if (golfBall.getSpeed() < _config__WEBPACK_IMPORTED_MODULE_1__.gameConfig.speedThreshold) {\r\n                golfBall.setSpeed(0);\r\n                golfBallIsMoving = false;\r\n            }\r\n            checkIfWon();\r\n        }\r\n    }\r\n\r\n    function multipleSteps(timeStep, numberOfSteps) {\r\n        for (let i = 0; i < numberOfSteps; i++) {\r\n            if (!golfBallIsMoving) return;\r\n            step(timeStep / numberOfSteps);\r\n        }\r\n    }\r\n\r\n    function stepLoop(timeStamp) {\r\n        if (!golfBallIsMoving) return;\r\n        if (!previousTimeStamp) {\r\n            previousTimeStamp = timeStamp;\r\n        }\r\n        let timeStep = (timeStamp - previousTimeStamp) / 1000;\r\n        if (timeStep > (1 / _config__WEBPACK_IMPORTED_MODULE_1__.gameConfig.framesPerSecond) && golfBallIsMoving) {\r\n            previousTimeStamp = timeStamp;\r\n            const numberOfSteps = Math.round(timeStep * _config__WEBPACK_IMPORTED_MODULE_1__.gameConfig.framesPerSecond);\r\n            multipleSteps(timeStep, numberOfSteps * _config__WEBPACK_IMPORTED_MODULE_1__.gameConfig.interpolationsPerStep);\r\n        }\r\n\r\n        if (golfBallIsMoving) {\r\n            window.requestAnimationFrame(stepLoop);\r\n        } else {\r\n            reset();\r\n            game.setPlayerFinished(isFinished);\r\n            game.golfBallStoppedMoving();\r\n        }\r\n    }\r\n\r\n    function executePutt() {\r\n        golfBallIsMoving = true;\r\n        isFinished = false;\r\n        window.requestAnimationFrame(stepLoop);\r\n    }\r\n\r\n    function checkIfRunning() {\r\n        return(golfBallIsMoving);\r\n    }\r\n\r\n    function checkIfWon() {\r\n        // In order to put, the distance between the center of the golf ball\r\n        // and the center of the hole must be less than the radius of the hole,\r\n        // and the velocity must be less than a certain limit\r\n        const position = golfBall.getPosition();\r\n        const speed = golfBall.getSpeed();\r\n        if (_utilities_math_utilities__WEBPACK_IMPORTED_MODULE_0__.subtractVectors(position, hole.position).getLength() <= hole.radius &&\r\n                                                            speed < upperPuttVelocity) {\r\n            golfBallIsMoving = false;\r\n            isFinished = true;\r\n            golfBall.setPosition(hole.position);\r\n        }\r\n    }\r\n\r\n    function reset() {\r\n        collisionData = null;\r\n        golfBallIsMoving = false;\r\n        previousTimeStamp = null;\r\n    }\r\n\r\n    return({ step, multipleSteps, stepLoop, \r\n        executePutt, checkIfRunning });\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameMechanics);\n\n//# sourceURL=webpack://minigolf/./src/game-resources/game-mechanics.js?");

/***/ }),

/***/ "./src/game-resources/game.js":
/*!************************************!*\
  !*** ./src/game-resources/game.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _golf_ball__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./golf-ball */ \"./src/game-resources/golf-ball.js\");\n/* harmony import */ var _course__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./course */ \"./src/game-resources/course.js\");\n/* harmony import */ var _game_mechanics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./game-mechanics */ \"./src/game-resources/game-mechanics.js\");\n/* harmony import */ var _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utilities/svg-utilities */ \"./src/utilities/svg-utilities.js\");\n/* harmony import */ var _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities/math-utilities */ \"./src/utilities/math-utilities.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n/* harmony import */ var _utilities_color_utilities__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utilities/color-utilities */ \"./src/utilities/color-utilities.js\");\n/* harmony import */ var _generate_course__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./generate-course */ \"./src/game-resources/generate-course.js\");\n/* harmony import */ var _generate_course__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_generate_course__WEBPACK_IMPORTED_MODULE_7__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst gameContainer = document.querySelector('#game-container');\r\n\r\nfunction Game(rootSVGElement) {\r\n    this.rootSVGElement = rootSVGElement;\r\n    this._computeSVGPosition = _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_3__.createSVGPositionComputer(rootSVGElement);\r\n    this.isPlayerFinished = false;\r\n    this.currentCourseNumber = 0;\r\n\r\n    // Event handlers need to be bound to Game object\r\n    this._handleGolfBallMouseDown = this._handleGolfBallMouseDown.bind(this);\r\n    this._handleGolfBallMouseMove = this._handleGolfBallMouseMove.bind(this);\r\n    this._handleGolfBallMouseUp = this._handleGolfBallMouseUp.bind(this);\r\n    this._handleGolfBallTouchStart = this._handleGolfBallTouchStart.bind(this);\r\n    this._handleGolfBallTouchMove = this._handleGolfBallTouchMove.bind(this);\r\n    this._handleGolfBallTouchEnd = this._handleGolfBallTouchEnd.bind(this);\r\n    this._handleEscapePutt = this._handleEscapePutt.bind(this);\r\n    this.resizeViewBoxToCourse = this.resizeViewBoxToCourse.bind(this);\r\n\r\n    const resetButton = document.querySelector('#reset-view-button');\r\n    resetButton.addEventListener('click', this.resizeViewBoxToCourse);\r\n}\r\n\r\nGame.prototype.setNumberOfCourses = function(numCourses) {\r\n    this.numberOfCourses = numCourses;\r\n}\r\n\r\nGame.prototype.setPlayerFinished = function(isFinished) {\r\n    this.isPlayerFinished = isFinished;\r\n}\r\n\r\nGame.prototype._setNewGolfBall =  function(courseData) {\r\n    this.golfBall = (0,_golf_ball__WEBPACK_IMPORTED_MODULE_0__.default)(courseData, 0, 0, this.rootSVGElement);\r\n    this.golfBall.initialize();\r\n    this.golfBall.addEventListener('mousedown', this._handleGolfBallMouseDown);\r\n    this.golfBall.addEventListener('touchstart', this._handleGolfBallTouchStart);\r\n}\r\n    \r\nGame.prototype.getGolfBall = function() {\r\n    return(this.golfBall);\r\n}\r\n\r\nGame.prototype._setNewCourse = function(courseData) {\r\n    this.course = (0,_course__WEBPACK_IMPORTED_MODULE_1__.default)(courseData, this.rootSVGElement);\r\n    this.course.initialize();\r\n}\r\n\r\nGame.prototype.getCourse = function() {\r\n    return(this.course);\r\n}\r\n\r\nGame.prototype.getCourseNumber = function() {\r\n    return(this.currentCourseNumber);\r\n}\r\n\r\nGame.prototype.setGameContent = function(newCourseData) {\r\n    this._cleanUpGame();\r\n    this.courseData = newCourseData;\r\n    this._setNewCourse(this.courseData);\r\n    this._setNewGolfBall(this.courseData);\r\n    this.gameMechanics = (0,_game_mechanics__WEBPACK_IMPORTED_MODULE_2__.default)(this);\r\n    this.resizeViewBoxToCourse();\r\n}\r\n\r\nGame.prototype.resizeViewBoxToCourse = function() {\r\n    _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_3__.setSVGExtent(this.rootSVGElement, \r\n        this.course.getCourseAABB(), _config__WEBPACK_IMPORTED_MODULE_5__.svgConfig.extentPadding);\r\n}\r\n\r\nGame.prototype.generateNewCourse = function() {\r\n    this.currentCourseNumber++;\r\n    const newCourseData = (0,_generate_course__WEBPACK_IMPORTED_MODULE_7__.generateCourse)();\r\n    this.setGameContent(newCourseData);\r\n}\r\n\r\nGame.prototype._handleGolfBallMouseDown = function(event) {\r\n    event.stopPropagation();\r\n    if (!this.golfBall.checkUserClickable()) return;\r\n    const golfBallPosition = this.golfBall.getPosition();\r\n    this.directionLineElement = _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_3__.drawLine(this.rootSVGElement, \r\n        golfBallPosition, golfBallPosition,\r\n        _config__WEBPACK_IMPORTED_MODULE_5__.svgConfig.directionLineAttributes, ['direction-line']);\r\n    \r\n    //this._handleGolfBallMouseMove = this._handleGolfBallMouseMove.bind(this)\r\n    window.addEventListener('mousemove', this._handleGolfBallMouseMove);\r\n    window.addEventListener('mouseup', this._handleGolfBallMouseUp);\r\n    window.addEventListener('keydown', this._handleEscapePutt);\r\n}\r\n\r\nGame.prototype._handleGolfBallTouchStart = function() {\r\n    if (!this.golfBall.checkUserClickable()) return;\r\n    const golfBallPosition = this.golfBall.getPosition();\r\n    directionLineElement = _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_3__.drawLine(this.rootSVGElement, \r\n        golfBallPosition, golfBallPosition,\r\n        _config__WEBPACK_IMPORTED_MODULE_5__.svgConfig.directionLineAttributes, ['direction-line']);\r\n    this.rootSVGElement.addEventListener('touchmove', this._handleGolfBallTouchMove);\r\n    this.rootSVGElement.addEventListener('touchend', this._handleGolfBallTouchEnd);\r\n}\r\n\r\nGame.prototype._handleGolfBallMouseMove = function(event) {\r\n    const svgPosition = this._computeSVGPosition({x: event.clientX, y: event.clientY});\r\n    this._updateDirectionLine(svgPosition);\r\n}\r\n\r\nGame.prototype._handleGolfBallTouchMove = function(event) {\r\n    // Avoid dragging screen \r\n    event.preventDefault();\r\n    const touch = event.changedTouches[0];\r\n    const svgPosition = this._computeSVGPosition({x: touch.clientX, y: touch.clientY});\r\n    this._updateDirectionLine(svgPosition);\r\n}\r\n\r\nGame.prototype._handleEscapePutt = function(event) {\r\n    if (event.key != \"Escape\") return;\r\n    window.removeEventListener('mousemove', this._handleGolfBallMouseMove);\r\n    window.removeEventListener('mouseup', this._handleGolfBallMouseUp);\r\n    window.removeEventListener('keydown', this._handleEscapePutt);\r\n    this.directionLineElement.remove();\r\n    this.directionLineElement = null;\r\n    this.directionLineVector = null;\r\n}\r\n\r\nGame.prototype._updateDirectionLine = function(svgPosition) {\r\n    // A vector from the center of the golf ball to the position of the\r\n    // mouse/finger\r\n    this.directionLineVector = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_4__.subtractVectors(_utilities_math_utilities__WEBPACK_IMPORTED_MODULE_4__.Vector(svgPosition), \r\n        this.golfBall.getPosition());\r\n    \r\n    // If the length is longer than the maximum permitted value,\r\n    // rescale to a vector of maximum permitted length,\r\n    // and compute corresponding line end\r\n    let lineEnd;\r\n    if (this.directionLineVector.getLength() > _config__WEBPACK_IMPORTED_MODULE_5__.gameConfig.maxDirectionLineLength) {\r\n        const unitVector = this.directionLineVector.getNormalized();\r\n        this.directionLineVector = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_4__.scaleVector(unitVector, _config__WEBPACK_IMPORTED_MODULE_5__.gameConfig.maxDirectionLineLength);\r\n        lineEnd = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_4__.addVectors(this.golfBall.getPosition(), this.directionLineVector);\r\n    } else {\r\n        lineEnd = svgPosition;\r\n    }\r\n    _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_3__.setLineEnd(this.directionLineElement, lineEnd);\r\n    \r\n    // Interpolate color\r\n    const lineColor = _utilities_color_utilities__WEBPACK_IMPORTED_MODULE_6__.interpolateColors(_config__WEBPACK_IMPORTED_MODULE_5__.gameConfig.directionLineStartColor, \r\n        _config__WEBPACK_IMPORTED_MODULE_5__.gameConfig.directionLineEndColor, \r\n        this.directionLineVector.getLength() / _config__WEBPACK_IMPORTED_MODULE_5__.gameConfig.maxDirectionLineLength);\r\n    _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_3__.setAttributes(this.directionLineElement, {stroke: lineColor});\r\n}\r\n\r\nGame.prototype._handleGolfBallMouseUp = function() {\r\n    window.removeEventListener('mousemove', this._handleGolfBallMouseMove);\r\n    window.removeEventListener('mouseup', this._handleGolfBallMouseUp);\r\n    window.removeEventListener('keydown', this._handleEscapePutt);\r\n    this.directionLineElement.remove();\r\n    this.directionLineElement = null;\r\n\r\n    // If directionLineVector is null, then the mouse has not been moved\r\n    if (!this.directionLineVector) return;\r\n\r\n    this.computeGolfBallVelocity();\r\n    this.golfBall.setNotUserClickable();\r\n    this.directionLineVector = null;\r\n    this.executePutt();\r\n}\r\n\r\nGame.prototype._handleGolfBallTouchEnd = function() {\r\n    this.rootSVGElement.removeEventListener('touchmove', this._handleGolfBallTouchMove);\r\n    this.rootSVGElement.removeEventListener('touchend', this._handleGolfBallTouchEnd);\r\n    this.directionLineElement.remove();\r\n    this.directionLineElement = null;\r\n    if (!this.directionLineVector) return;\r\n\r\n    this.computeGolfBallVelocity();\r\n    this.golfBall.setNotUserClickable();\r\n    this.directionLineVector = null;\r\n    this.executePutt();\r\n}\r\n\r\nGame.prototype.computeGolfBallVelocity = function() {\r\n    // The direction of the ball is in the opposite direction of\r\n    // directionLineVector\r\n    const initialDirection = this.directionLineVector.getDirection() + Math.PI;\r\n    const initialSpeed = _config__WEBPACK_IMPORTED_MODULE_5__.gameConfig.maxSpeed * \r\n        this.directionLineVector.getLength() / _config__WEBPACK_IMPORTED_MODULE_5__.gameConfig.maxDirectionLineLength;\r\n    \r\n    console.log(`speed: ${initialSpeed}, direction: ${initialDirection}`);\r\n    this.golfBall.setDirection(initialDirection);\r\n    this.golfBall.setSpeed(initialSpeed);\r\n}\r\n\r\nGame.prototype.executePutt = function() {\r\n    this.gameMechanics.executePutt();\r\n}\r\n\r\nGame.prototype.golfBallStoppedMoving = function() {\r\n    this.golfBall.setUserClickable();\r\n}\r\n\r\nGame.prototype._cleanUpGame = function() {\r\n    this.course?.destroy();\r\n    this.golfBall?.destroy();\r\n    this.course = null;\r\n    this.golfBall = null;\r\n    this.gameMechanics = null;\r\n    this.courseData = null;\r\n}\r\n\r\nGame.prototype.setGolfBallSpeed = function(newSpeed) {\r\n    this.golfBall.setSpeed(newSpeed);\r\n}\r\n\r\nGame.prototype.setGolfBallDirection = function(newDirection) {\r\n    this.golfBall.setDirection(newDirection);\r\n}\r\n\r\nGame.prototype.setGolfBallPosition = function(newPosition) {\r\n    const position = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_4__.Vector(newPosition);\r\n    console.log(position.getCoordinates());\r\n    this.golfBall.setPosition(position);\r\n    this.golfBall.update();\r\n}\r\n\r\nGame.prototype.show = function() {\r\n    gameContainer.classList.remove('hidden');\r\n}\r\n\r\nGame.prototype.hide = function() {\r\n    gameContainer.classList.add('hidden');\r\n}\r\n\r\nGame.prototype.update = function() {\r\n    this.golfBall.update();\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Game);\n\n//# sourceURL=webpack://minigolf/./src/game-resources/game.js?");

/***/ }),

/***/ "./src/game-resources/generate-course.js":
/*!***********************************************!*\
  !*** ./src/game-resources/generate-course.js ***!
  \***********************************************/
/***/ ((module) => {

eval("let i = 0;\r\nfunction generateCourse() {\r\n    let courseData;\r\n    if (i === 0) {\r\n        courseData = {\r\n            boundary: [\r\n                {x: 10, y: 40},\r\n                {x: 30, y: 40},\r\n                {x: 30, y: 45},\r\n                {x: 65, y: 45},\r\n                {x: 65, y: 40},\r\n                {x: 90, y: 40},\r\n                {x: 90, y: 60},\r\n                {x: 65, y: 60},\r\n                {x: 65, y: 55},\r\n                {x: 30, y: 55},\r\n                {x: 30, y: 60},\r\n                {x: 10, y: 60}\r\n            ],\r\n            obstacles: [\r\n                [\r\n                    {x: 15, y: 55},\r\n                    {x: 25, y: 55},\r\n                    {x: 25, y: 45},\r\n                    {x: 15, y: 45}\r\n                ]\r\n            ],\r\n            covers: [\r\n                {\r\n                    type: 'sand', \r\n                    frictionMultiplier: 3, \r\n                    vertices: [{x: 65, y: 52},\r\n                               {x: 65, y: 55},\r\n                               {x: 30, y: 55},\r\n                               {x: 30, y: 52}]\r\n                },\r\n            \r\n                {\r\n                    type: 'water',\r\n                    vertices: [{x: 65, y: 48},\r\n                               {x: 65, y: 52},\r\n                               {x: 30, y: 52},\r\n                               {x: 30, y: 48}]\r\n                },\r\n            \r\n                {\r\n                    type: 'wind',\r\n                    direction: Math.PI/4,\r\n                    windStrength: 2,\r\n                    vertices: [{x: 65, y: 45},\r\n                               {x: 65, y: 48},\r\n                               {x: 30, y: 48},\r\n                               {x: 30, y: 45}]\r\n                }\r\n            ],\r\n            initialGolfBallPosition: {x: 80, y: 50}, golfBallRadius: 0.8,\r\n            hole: {position: {x: 12.5, y: 50}, radius: 2.1}\r\n            };\r\n    } else {\r\n        courseData = {boundary: \r\n            [{x: 88.38, y: 37.15},\r\n                {x: 84.15, y: 48.92},\r\n                {x: 72.43, y: 61.96},\r\n                {x: 55.25, y: 68.69},\r\n                {x: 37.56, y: 67.01},\r\n                {x: 25.61, y: 60.48},\r\n                {x: 14.06, y: 45.26},\r\n                {x: 11, y: 31.88},\r\n                {x: 88.38, y: 31.61},\r\n                {x: 88.38, y: 35.05},\r\n                {x: 23.92, y: 34.88},\r\n                {x: 27.44, y: 43.97},\r\n                {x: 34.52, y: 51.55},\r\n                {x: 44.18, y: 55.89},\r\n                {x: 53.69, y: 56.27},\r\n                {x: 64.4, y: 52.28},\r\n                {x: 71.5, y: 45.55},\r\n                {x: 75.56, y: 37.12}], \r\n            initialGolfBallPosition: {x: 80, y: 40},\r\n            hole: {position: {x: 86, y: 33.4}, radius: 1.5}};\r\n    }\r\n    i++;\r\n    return(courseData);\r\n}\r\n\r\nmodule.exports = { generateCourse };\n\n//# sourceURL=webpack://minigolf/./src/game-resources/generate-course.js?");

/***/ }),

/***/ "./src/game-resources/golf-ball.js":
/*!*****************************************!*\
  !*** ./src/game-resources/golf-ball.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n/* harmony import */ var _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/svg-utilities */ \"./src/utilities/svg-utilities.js\");\n/* harmony import */ var _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/math-utilities */ \"./src/utilities/math-utilities.js\");\n\r\n\r\n\r\n\r\nconst GolfBall = function(\r\n        courseData, \r\n        initialSpeed, \r\n        initialDirection, \r\n        rootSVGElement) {\r\n    \r\n    let position = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Vector(courseData.initialGolfBallPosition);\r\n    let speed = initialSpeed;\r\n    let direction = initialDirection;\r\n    let radius = courseData.golfBallRadius || _config__WEBPACK_IMPORTED_MODULE_0__.gameConfig.golfBallRadius;\r\n    \r\n    let _unitDirectionVector = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.createUnitVector(direction);\r\n    let _golfBallElement;\r\n    let _isUserClickable = false;\r\n\r\n    function draw() {\r\n        _golfBallElement = _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_1__.drawCircle(rootSVGElement, position.getCoordinates(), \r\n            _config__WEBPACK_IMPORTED_MODULE_0__.svgConfig.golfBallAttributes, ['golf-ball']);\r\n    }\r\n\r\n    function getPosition() {\r\n        return(position);\r\n    }\r\n\r\n    function setPosition(newPosition) {\r\n        position = newPosition;\r\n        update();\r\n    }\r\n\r\n    function getSpeed() {\r\n        return(speed);\r\n    }\r\n\r\n    function setSpeed(newSpeed) {\r\n        speed = newSpeed;\r\n    }\r\n\r\n    function getDirection() {\r\n        return(direction);\r\n    }\r\n\r\n    function setDirection(newDirection) {\r\n        direction = newDirection;\r\n        _unitDirectionVector = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.createUnitVector(direction)\r\n    }\r\n\r\n    function getRadius() {\r\n        return(radius);\r\n    }\r\n\r\n    function setRadius(newRadius) {\r\n        radius = newRadius;\r\n    }\r\n\r\n    function step(timeStep) {\r\n        const stepSize = speed*timeStep;\r\n        let newPosition = position;\r\n        newPosition.setX(newPosition.getX() + stepSize*_unitDirectionVector.getX());\r\n        newPosition.setY(newPosition.getY() + stepSize*_unitDirectionVector.getY());\r\n        setPosition(newPosition);\r\n    }\r\n\r\n    function initialize() {\r\n        draw();\r\n        setUserClickable();\r\n    }\r\n\r\n    function update() {\r\n        _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_1__.setCirclePosition(_golfBallElement, position.getCoordinates());\r\n    }\r\n\r\n    function destroy() {\r\n        _golfBallElement.remove();\r\n    }\r\n\r\n    function addEventListener(eventName, callback) {\r\n        _golfBallElement.addEventListener(eventName, callback);\r\n    }\r\n\r\n    function removeEventListener(eventName, callback) {\r\n        _golfBallElement.removeEventListener(eventName, callback);\r\n    }\r\n\r\n    function setUserClickable() {\r\n        _isUserClickable = true;\r\n        _golfBallElement.classList.add('user-clickable');\r\n    }\r\n\r\n    function setNotUserClickable() {\r\n        _isUserClickable = false;\r\n        _golfBallElement.classList.remove('user-clickable');\r\n    }\r\n    \r\n    function checkUserClickable() {\r\n        return(_isUserClickable);\r\n    }\r\n\r\n    function moveToInitialPosition() {\r\n        position = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Vector(courseData.initialGolfBallPosition);\r\n        console.log(position.getCoordinates());\r\n        setPosition(position);\r\n    }\r\n\r\n    function reset() {\r\n        moveToInitialPosition();\r\n        setSpeed(0);\r\n        setDirection(0);\r\n    }\r\n\r\n    function getInitialPosition() {\r\n        return(_utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Vector(courseData.initialGolfBallPosition));\r\n    }\r\n\r\n    return({ initialize, draw, \r\n        getPosition, setPosition, \r\n        getSpeed, setSpeed,\r\n        getDirection, setDirection,\r\n        getRadius, setRadius,\r\n        destroy, step, update,\r\n        addEventListener, removeEventListener,\r\n        setUserClickable, setNotUserClickable,\r\n        checkUserClickable, moveToInitialPosition, reset,\r\n        getInitialPosition });\r\n\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GolfBall);\n\n//# sourceURL=webpack://minigolf/./src/game-resources/golf-ball.js?");

/***/ }),

/***/ "./src/game-resources/online-game.js":
/*!*******************************************!*\
  !*** ./src/game-resources/online-game.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game */ \"./src/game-resources/game.js\");\n/* harmony import */ var _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../online-game-handler/online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n/* harmony import */ var _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/math-utilities */ \"./src/utilities/math-utilities.js\");\n/* harmony import */ var _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sidebar/sidebar */ \"./src/sidebar/sidebar.js\");\n/* harmony import */ var _sidebar_show_announcement__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../sidebar/show-announcement */ \"./src/sidebar/show-announcement.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction OnlineGame(rootSVGElement) {\r\n    _game__WEBPACK_IMPORTED_MODULE_0__.default.call(this, rootSVGElement);\r\n}\r\n\r\nOnlineGame.prototype = Object.create(_game__WEBPACK_IMPORTED_MODULE_0__.default.prototype);\r\n\r\n    // Method called by gameMechanics when the player finishes\r\n    /*game.playerFinished = function() {\r\n        console.log(\"finished\");\r\n    }*/\r\n\r\nOnlineGame.prototype._handleGolfBallMouseUp = function() {\r\n    window.removeEventListener('mousemove', this._handleGolfBallMouseMove);\r\n    window.removeEventListener('mouseup', this._handleGolfBallMouseUp);\r\n    window.removeEventListener('keydown', this._handleEscapePutt);\r\n    this.directionLineElement.remove();\r\n    this.directionLineElement = null;\r\n\r\n    // If directionLineVector is null, then the mouse has not been moved\r\n    if (!this.directionLineVector) return;\r\n\r\n    this.computeGolfBallVelocity();\r\n    this.golfBall.setNotUserClickable();\r\n    this.directionLineVector = null;\r\n    \r\n    _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__.default.sendPuttMessage();\r\n};\r\n\r\nOnlineGame.prototype.setCurrentPlayer = function(currentPlayer) {\r\n    this.currentPlayer = currentPlayer;\r\n    if (this.currentPlayer === _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__.default.getPlayerName()) {\r\n        this.golfBall.setUserClickable();\r\n    } else {\r\n        this.golfBall.setNotUserClickable();\r\n    }\r\n};\r\n\r\nOnlineGame.prototype.setCurrentCourseName = function(courseName) {\r\n    this.currentCourseName = courseName;\r\n}\r\n\r\nOnlineGame.prototype.getCurrentCourseName = function() {\r\n    return(this.currentCourseName);\r\n}\r\n\r\nOnlineGame.prototype.getGolfBallVelocity = function() {\r\n    const golfBallSpeed = this.golfBall.getSpeed();\r\n    const golfBallDirection = this.golfBall.getDirection();\r\n    return({golfBallSpeed, golfBallDirection});\r\n};\r\n\r\nOnlineGame.prototype.setFinalPosition = function(finalPosition) {\r\n    this.finalPosition = _utilities_math_utilities__WEBPACK_IMPORTED_MODULE_2__.Vector(finalPosition);\r\n}\r\n\r\nOnlineGame.prototype.storeNextPlayer = function(nextPlayerName) {\r\n    this.hasNextPlayer = true;\r\n    this.nextPlayer = nextPlayerName;\r\n}\r\n\r\nOnlineGame.prototype.storeNewCourseData = function(newCourseData, newCourseName) {\r\n    this.newCourseName = newCourseName;\r\n    this.hasNewCourse = true;\r\n    this.newCourseData = newCourseData;\r\n}\r\n\r\nOnlineGame.prototype.golfBallStoppedMoving = function() {\r\n    this.golfBall.setPosition(this.finalPosition);\r\n    \r\n    if (this.hasNewCourse) {\r\n        (0,_sidebar_show_announcement__WEBPACK_IMPORTED_MODULE_4__.default)(`NEW HOLE, NEXT PLAYER: ${this.nextPlayer}!`, () => {\r\n            this.switchToNewCourse();\r\n            this.switchToNextPlayer();\r\n            _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.incrementCurrentCourse();\r\n            this.checkGolfBallClickable();\r\n        });\r\n    } else if (this.hasNextPlayer) {\r\n        (0,_sidebar_show_announcement__WEBPACK_IMPORTED_MODULE_4__.default)(`NEXT PLAYER: ${this.nextPlayer}!`, () => {\r\n            this.switchToNextPlayer();\r\n            this.golfBall.moveToInitialPosition();\r\n            this.checkGolfBallClickable();\r\n        });\r\n    } else {\r\n        this.checkGolfBallClickable();\r\n    }   \r\n}\r\n\r\nOnlineGame.prototype.checkGolfBallClickable = function() {\r\n    if (this.currentPlayer === _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__.default.getPlayerName()) {\r\n        this.golfBall.setUserClickable();\r\n    }\r\n}\r\n\r\nOnlineGame.prototype.switchToNextPlayer = function() {\r\n    this.setCurrentPlayer(this.nextPlayer);\r\n    this.hasNextPlayer = false;\r\n    this.nextPlayer = null;\r\n}\r\n\r\nOnlineGame.prototype.switchToNewCourse = function() {\r\n    this.setGameContent(this.newCourseData);\r\n    this.currentCourseName = this.newCourseName;\r\n\r\n    this.hasNewCourse = false;\r\n    this.newCourseData = null;\r\n    this.newCourseName = null;\r\n}\r\n\r\nOnlineGame.prototype.resetGolfBall = function() {\r\n    this.golfBall.reset();\r\n    // TODO: Temporary fix, so that gameMechanics moves golfball to start\r\n    this.finalPosition = this.golfBall.getInitialPosition();\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OnlineGame);\n\n//# sourceURL=webpack://minigolf/./src/game-resources/online-game.js?");

/***/ }),

/***/ "./src/game-resources/singleplayer-game.js":
/*!*************************************************!*\
  !*** ./src/game-resources/singleplayer-game.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _sidebar_score_board__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sidebar/score-board */ \"./src/sidebar/score-board.js\");\n/* harmony import */ var _sidebar_show_announcement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sidebar/show-announcement */ \"./src/sidebar/show-announcement.js\");\n/* harmony import */ var _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sidebar/sidebar */ \"./src/sidebar/sidebar.js\");\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./game */ \"./src/game-resources/game.js\");\n\r\n\r\n\r\n\r\n\r\nfunction SingleplayerGame(rootSVGElement) {\r\n    _game__WEBPACK_IMPORTED_MODULE_3__.default.call(this, rootSVGElement);\r\n}\r\n\r\nSingleplayerGame.prototype = Object.create(_game__WEBPACK_IMPORTED_MODULE_3__.default.prototype);\r\n\r\nSingleplayerGame.prototype.golfBallStoppedMoving = function() {\r\n    this.golfBall.setUserClickable();\r\n    if (this.isPlayerFinished) {\r\n        (0,_sidebar_show_announcement__WEBPACK_IMPORTED_MODULE_1__.default)('Next hole', () => this.generateNewCourse());\r\n        _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_2__.default.incrementCurrentCourse();\r\n    }\r\n}\r\n\r\nSingleplayerGame.prototype.executePutt = function() {\r\n    _sidebar_score_board__WEBPACK_IMPORTED_MODULE_0__.default.incrementPlayerScore(this.currentCourseNumber, 'Player');\r\n    this.gameMechanics.executePutt();\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SingleplayerGame);\n\n//# sourceURL=webpack://minigolf/./src/game-resources/singleplayer-game.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _menu_system_menu_controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu-system/menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _menu_system_main_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu-system/main-menu */ \"./src/menu-system/main-menu.js\");\n/* harmony import */ var _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./online-game-handler/online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n/* harmony import */ var _menu_system_input_box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./menu-system/input-box */ \"./src/menu-system/input-box.js\");\n/* harmony import */ var _game_resources_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./game-resources/game */ \"./src/game-resources/game.js\");\n/* harmony import */ var _svg_setup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./svg-setup */ \"./src/svg-setup.js\");\n/* harmony import */ var _game_resources_singleplayer_game__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./game-resources/singleplayer-game */ \"./src/game-resources/singleplayer-game.js\");\n/* harmony import */ var _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sidebar/sidebar */ \"./src/sidebar/sidebar.js\");\n\r\nname\r\n;\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst queryParameters = new URLSearchParams(window.location.search);\r\nconst gameIdParameter = queryParameters.get('game-id');\r\n\r\nif (gameIdParameter) {\r\n    (0,_menu_system_input_box__WEBPACK_IMPORTED_MODULE_3__.default)('Please enter a name',  [{fieldName: 'name', text: 'Name:'}], \r\n        [{text: 'Ok', callback: handleNameMenu}, {text: 'Cancel'}]);\r\n\r\n    function handleNameMenu(event, fieldValues) {\r\n        let playerName = fieldValues['name'];\r\n        console.log(fieldValues);\r\n        _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_2__.default.setPlayerName(playerName);\r\n        const wsClient = _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_2__.default.createWSClient();\r\n        wsClient.addEventListener('open', () => {\r\n            const message = {};\r\n            message.eventName = 'joinRequest';\r\n            message.data = {\r\n                playerName,\r\n                gameId: gameIdParameter\r\n        };\r\n        _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_2__.default.sendMessage(JSON.stringify(message));\r\n    }\r\n    );\r\n    }\r\n}\r\n\r\nconst copyLinkButton = document.querySelector('#copy-link-button');\r\ncopyLinkButton.addEventListener('click', handleCopyLink);\r\nfunction handleCopyLink() {\r\n    navigator.clipboard.writeText(\r\n        `${window.location.href.split('?')[0]}?game-id=${_online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_2__.default.getGameId()}`\r\n    );\r\n}\r\n\r\n_menu_system_menu_controller__WEBPACK_IMPORTED_MODULE_0__.default.setMenu(_menu_system_main_menu__WEBPACK_IMPORTED_MODULE_1__.default, true, true);\r\n_menu_system_menu_controller__WEBPACK_IMPORTED_MODULE_0__.default.hide();\r\n\r\nconst game = new _game_resources_singleplayer_game__WEBPACK_IMPORTED_MODULE_6__.default(_svg_setup__WEBPACK_IMPORTED_MODULE_5__.default);\r\ngame.generateNewCourse();\r\ngame.show();\r\n_sidebar_sidebar__WEBPACK_IMPORTED_MODULE_7__.default.show();\n\n//# sourceURL=webpack://minigolf/./src/index.js?");

/***/ }),

/***/ "./src/menu-system/blur.js":
/*!*********************************!*\
  !*** ./src/menu-system/blur.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addBlur\": () => (/* binding */ addBlur),\n/* harmony export */   \"removeBlur\": () => (/* binding */ removeBlur)\n/* harmony export */ });\nfunction addBlur() {\r\n    const main = document.querySelector('main');\r\n    main.classList.add('blur');\r\n}\r\n\r\nfunction removeBlur() {\r\n    const main = document.querySelector('main');\r\n    main.classList.remove('blur');\r\n}\r\n\r\n\n\n//# sourceURL=webpack://minigolf/./src/menu-system/blur.js?");

/***/ }),

/***/ "./src/menu-system/dialog-box.js":
/*!***************************************!*\
  !*** ./src/menu-system/dialog-box.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _blur__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blur */ \"./src/menu-system/blur.js\");\n\r\n\r\nfunction dialogBox(prompt, buttonCallbackArray) {\r\n    (0,_blur__WEBPACK_IMPORTED_MODULE_0__.addBlur)();\r\n\r\n    const htmlString = \r\n        `<div class='dialog-box-wrapper not-selectable'>\r\n            <div class='backdrop'></div>\r\n            <div class='dialog-box'>\r\n                <div class='dialog-box-description'>${prompt}</div>\r\n                <div class='dialog-box-button-container'>\r\n                </div>\r\n            </div>\r\n        </div>`\r\n    const dialogContainer = document.createElement('div');\r\n    dialogContainer.innerHTML = htmlString;\r\n\r\n    const buttonContainer = dialogContainer.querySelector('.dialog-box-button-container');\r\n\r\n    for (const button of buttonCallbackArray) {\r\n        const buttonElement = document.createElement('div');\r\n        buttonElement.classList.add('dialog-box-button');\r\n        buttonElement.textContent = button.text;\r\n\r\n        function buttonClickHandler(event) {\r\n            if (typeof button.callback === 'function') {\r\n                button.callback(event);\r\n            }\r\n            (0,_blur__WEBPACK_IMPORTED_MODULE_0__.removeBlur)();\r\n            dialogContainer.remove();\r\n        }\r\n        buttonElement.addEventListener('click', buttonClickHandler);\r\n        buttonContainer.appendChild(buttonElement);\r\n    }\r\n    document.body.appendChild(dialogContainer);\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dialogBox);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/dialog-box.js?");

/***/ }),

/***/ "./src/menu-system/input-box.js":
/*!**************************************!*\
  !*** ./src/menu-system/input-box.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _blur__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blur */ \"./src/menu-system/blur.js\");\n\r\n\r\nfunction inputBox(prompt, inputFields, buttonCallbackArray) {\r\n    (0,_blur__WEBPACK_IMPORTED_MODULE_0__.addBlur)();\r\n\r\n    const htmlString = \r\n        `<div class='input-box-wrapper not-selectable'>\r\n        <div class='backdrop'></div>\r\n        <div class='input-box'>\r\n            <div class='input-box-description'>${prompt}</div>\r\n            <div class='input-box-field-container'>\r\n              \r\n            </div>\r\n            <div class='input-box-button-container'>\r\n                \r\n            </div>\r\n        </div>\r\n    </div>`\r\n    const inputBoxContainer = document.createElement('div');\r\n    inputBoxContainer.innerHTML = htmlString;\r\n\r\n    const inputFieldContainer = inputBoxContainer.querySelector('.input-box-field-container');\r\n    const buttonContainer = inputBoxContainer.querySelector('.input-box-button-container');\r\n    const nameInputElementMap = {};\r\n\r\n    for (const {fieldName, text} of inputFields) {\r\n        const fieldElement = document.createElement('div');\r\n        fieldElement.classList.add('input-box-field-element');\r\n\r\n        const nameElement = document.createElement('div');\r\n        nameElement.classList.add('input-box-parameter-name');\r\n        nameElement.textContent = text;\r\n        fieldElement.appendChild(nameElement);\r\n\r\n        const inputElement = document.createElement('input');\r\n        inputElement.classList.add('input-box-field-input');\r\n        fieldElement.appendChild(inputElement);\r\n\r\n        inputFieldContainer.appendChild(fieldElement);\r\n        nameInputElementMap[fieldName] = inputElement;\r\n    }\r\n\r\n    for (const button of buttonCallbackArray) {\r\n        const buttonElement = document.createElement('div');\r\n        buttonElement.classList.add('input-box-button');\r\n        buttonElement.textContent = button.text;\r\n\r\n        function buttonClickHandler(event) {\r\n            if (typeof button.callback === 'function') {\r\n                button.callback(event, getInputFieldValues());\r\n            }\r\n            (0,_blur__WEBPACK_IMPORTED_MODULE_0__.removeBlur)();\r\n            inputBoxContainer.remove();\r\n        }\r\n        buttonElement.addEventListener('click', buttonClickHandler);\r\n        buttonContainer.appendChild(buttonElement);\r\n    }\r\n    document.body.appendChild(inputBoxContainer);\r\n\r\n    function getInputFieldValues() {\r\n        const values = {};\r\n        for (const { fieldName } of inputFields) {\r\n            values[fieldName] = nameInputElementMap[fieldName].value;\r\n        }\r\n        return(values);\r\n    }\r\n\r\n    inputBoxContainer.addEventListener('keydown', event => {\r\n        if (event.key !== \"Enter\") return;\r\n        const callback = buttonCallbackArray[0].callback;\r\n        if (typeof callback === 'function') {\r\n            callback(event, getInputFieldValues());\r\n        }\r\n        (0,_blur__WEBPACK_IMPORTED_MODULE_0__.removeBlur)();\r\n        inputBoxContainer.remove();\r\n    })\r\n\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (inputBox);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/input-box.js?");

/***/ }),

/***/ "./src/menu-system/join-online-game-menu.js":
/*!**************************************************!*\
  !*** ./src/menu-system/join-online-game-menu.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n/* harmony import */ var _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../online-game-handler/online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n/* harmony import */ var _utilities_online_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/online-utilities */ \"./src/utilities/online-utilities.js\");\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./menu */ \"./src/menu-system/menu.js\");\n/* harmony import */ var _menu_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _online_game_menu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./online-game-menu */ \"./src/menu-system/online-game-menu.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst joinOnlineGameMenu = (0,_menu__WEBPACK_IMPORTED_MODULE_3__.default)('join-online-game-menu');\r\n\r\nconst playerNameContainer = document.createElement('div');\r\nplayerNameContainer.innerHTML = `\r\n<div id=\"create-player-name\" class=\"menu-inner-option-container menu-text-option\">\r\n    <div id=\"create-player-name-label\" class=\"option-label\">Your name</div>\r\n    <textarea id=\"create-player-name-input\" rows=\"1\" placeholder=\"max 20 characters\"></textarea>\r\n</div>`;\r\njoinOnlineGameMenu.addCustomElement(playerNameContainer);\r\nconst nameInput = playerNameContainer.querySelector('#create-player-name-input');\r\n\r\nconst gameIdContainer = document.createElement('div');\r\ngameIdContainer.innerHTML = `\r\n<div id=\"create-game-id\" class=\"menu-inner-option-container menu-text-option\">\r\n    <div id=\"create-game-id-label\" class=\"option-label\">Game ID</div>\r\n    <textarea id=\"create-game-id-input\" rows=\"1\"></textarea>\r\n</div>`;\r\njoinOnlineGameMenu.addCustomElement(gameIdContainer);\r\nconst gameIdInput = gameIdContainer.querySelector('#create-game-id-input');\r\n\r\nconst joinButton = joinOnlineGameMenu.addButton('join-button', 'Join game');\r\njoinOnlineGameMenu.addRestrictedEventListener(joinButton,\r\n     'click', handleJoinGame);\r\n\r\nconst backButton = joinOnlineGameMenu.addButton('back-button', 'Go back');\r\njoinOnlineGameMenu.addRestrictedEventListener(backButton,\r\n     'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_4__.default.setMenu(_online_game_menu__WEBPACK_IMPORTED_MODULE_5__.default, false));\r\n\r\njoinOnlineGameMenu.setTitle('Join online game', ['title-small']);\r\n\r\njoinOnlineGameMenu.createMenuElement();\r\n\r\nconst menuElement = joinOnlineGameMenu.getMenuElement();\r\nmenuElement.addEventListener('keydown', e => {\r\n    if (e.key !== 'Enter') return;\r\n    e.preventDefault();\r\n    handleJoinGame();\r\n});\r\n\r\nfunction handleJoinGame() {\r\n    const playerName = nameInput.value;\r\n    const gameId = gameIdInput.value;\r\n \r\n    if (!playerName) {\r\n        dialogBox('Please enter a name', \r\n            [{text: 'Ok'}]);\r\n    } else if (playerName.length > _config__WEBPACK_IMPORTED_MODULE_0__.playerConfig.maxNameLength) {\r\n        dialogBox('The name entered is too long', \r\n        [{text: 'Ok'}]);\r\n    } else if (gameId && !(0,_utilities_online_utilities__WEBPACK_IMPORTED_MODULE_2__.checkValidId)(gameId)) {\r\n        dialogBox('The game ID can only consist of letters, numbers and hyphens (-)', \r\n        [{text: 'Ok'}]);\r\n    } else {\r\n        _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__.default.setPlayerName(playerName);\r\n        const wsClient = _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__.default.createWSClient();\r\n        wsClient.addEventListener('open', () => \r\n            sendJoinGameMessage(playerName, gameId));\r\n    }\r\n}\r\n \r\nfunction sendJoinGameMessage(playerName, gameId) {\r\n    const message = {};\r\n    message.eventName = 'joinRequest';\r\n    message.data = {\r\n        playerName,\r\n        gameId\r\n    };\r\n    _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__.default.sendMessage(JSON.stringify(message));\r\n}\r\n \r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (joinOnlineGameMenu);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/join-online-game-menu.js?");

/***/ }),

/***/ "./src/menu-system/main-menu.js":
/*!**************************************!*\
  !*** ./src/menu-system/main-menu.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu */ \"./src/menu-system/menu.js\");\n/* harmony import */ var _menu_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _singleplayer_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./singleplayer-menu */ \"./src/menu-system/singleplayer-menu.js\");\n/* harmony import */ var _multiplayer_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./multiplayer-menu */ \"./src/menu-system/multiplayer-menu.js\");\n/* harmony import */ var _online_game_menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./online-game-menu */ \"./src/menu-system/online-game-menu.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst mainMenu = (0,_menu__WEBPACK_IMPORTED_MODULE_0__.default)('main-menu');\r\n\r\nconst singleplayerButton = mainMenu.addButton('singleplayer-button', 'Single-player');\r\nmainMenu.addRestrictedEventListener(singleplayerButton, \r\n    'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.setMenu(_singleplayer_menu__WEBPACK_IMPORTED_MODULE_2__.default, true));\r\n\r\nconst multiplayerButton = mainMenu.addButton('multiplayer-button', 'Local multi-player');\r\nmainMenu.addRestrictedEventListener(multiplayerButton,\r\n    'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.setMenu(_multiplayer_menu__WEBPACK_IMPORTED_MODULE_3__.default, true));\r\n\r\nconst onlineButton = mainMenu.addButton('online-button', 'Online game');\r\nmainMenu.addRestrictedEventListener(onlineButton,\r\n    'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.setMenu(_online_game_menu__WEBPACK_IMPORTED_MODULE_4__.default, true));\r\n\r\nconst holeSVG = `<svg id=\"title-hole\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 260 260\" xml:space=\"preserve\">\r\n<path d=\"M0.5,0.5v259h259V0.5H0.5z M130.5,234.5C72.2,234.5,25,187.3,25,129S72.2,23.5,130.5,23.5\r\n\tS236,70.7,236,129S188.8,234.5,130.5,234.5z\"/>\r\n</svg>`\r\n\r\nmainMenu.setTitle(`Minig${holeSVG}lf`);\r\n\r\nconst aboutButton = document.createElement('div');\r\naboutButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"menu-about-button\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\nviewBox=\"0 0 254 254\">\r\n<path d=\"M127,0.5C57.1,0.5,0.5,57.1,0.5,127S57.1,253.5,127,253.5S253.5,196.9,253.5,127\r\nS196.9,0.5,127,0.5z M146.5,227h-36v-36h36V227z M189,112.6c-4.5,7.1-14.1,16.8-28.8,29c-7.6,6.3-12.3,11.7-14.2,15.5\r\nc-1.8,3.8-2.7,11.9-2.5,20.9h-32.7c-0.1-4-0.1-7.8-0.1-8.9c0-10.6,1.8-19.5,5.3-26.3c3.5-6.8,10.5-14.6,21-23.2\r\nc10.5-8.6,16.8-14.2,18.9-16.8c3.2-4.2,4.7-8.8,4.7-13.9c0-7-2.8-13-8.4-18c-5.6-5-13.2-7.5-22.7-7.5c-9.2,0-16.8,2.6-23,7.8\r\nc-6.2,5.2-10.4,13.2-12.7,23.9L60.7,91c0.9-15.3,7.5-28.3,19.6-39c12.1-10.7,28-16,47.7-16c20.7,0,37.2,5.4,49.4,16.2\r\nC189.6,63,195.7,75.6,195.7,90C195.7,97.9,193.5,105.5,189,112.6z\"/>\r\n</svg>`\r\n\r\nmainMenu.addRestrictedEventListener(aboutButton, \r\n    'click', () => alert('about'));\r\n\r\nmainMenu.addCustomElement(aboutButton);\r\n\r\nmainMenu.createMenuElement();\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mainMenu);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/main-menu.js?");

/***/ }),

/***/ "./src/menu-system/menu-controller.js":
/*!********************************************!*\
  !*** ./src/menu-system/menu-controller.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n/* harmony import */ var _main_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main-menu */ \"./src/menu-system/main-menu.js\");\n\r\n\r\n\r\nconst MenuController = (() => {\r\n    const menuWrapper = document.querySelector('#menu-wrapper');\r\n    let menuObject;\r\n    let menuElement;\r\n\r\n    function setElementTransition(element, position, duration, timingFunction = 'ease-in-out') {\r\n        element.style.transitionDuration = `${duration}s`;\r\n        element.style.transform = `translateX(${position}px)`;\r\n        element.style.transitionTimingFunction = timingFunction;\r\n    }\r\n\r\n    // Should probably be split into multiple functions\r\n    function setMenu(newMenuObject, forWardDirection = true, skipTransition = false) {\r\n        \r\n        // On the first run, menuObject does not have a value\r\n        // Later, we start by setting the old menu to in-active.\r\n        // This disables all button events\r\n        if (menuObject) {\r\n            menuObject.setNotActive();\r\n        }\r\n\r\n        // Set new menu to active, enabling button events\r\n        menuObject = newMenuObject;\r\n        \r\n        // Should the the new menu come in from the left, or the right?\r\n        let directionSign = forWardDirection ? 1 : -1;\r\n        // How long should the transition take?\r\n        let duration = _config__WEBPACK_IMPORTED_MODULE_0__.menuConfig.transitionDuration;\r\n\r\n        // Store old menu for later, and update menuElement to new menu\r\n        let oldMenu = menuElement;\r\n        menuElement = newMenuObject.getMenuElement();\r\n        menuWrapper.insertBefore(menuElement, menuWrapper.firstChild);\r\n\r\n        // Remove any transition events\r\n        if (oldMenu) {\r\n            oldMenu.ontransitionstart = '';\r\n            oldMenu.ontransitionend = '';\r\n        }\r\n        menuElement.ontransitionstart = '';\r\n        menuElement.ontransitionend = '';\r\n\r\n        // Computing how far the menu elements should slide, when transitioning\r\n        // out of/in to the screen\r\n        const screenWidth = document.body.offsetWidth;\r\n        let oldMenuWidth;\r\n        const newMenuWidth = menuElement.offsetWidth;\r\n        if (oldMenu) {\r\n            oldMenuWidth = oldMenu.offsetWidth;\r\n        }\r\n        const maxMenuWidth = Math.max(newMenuWidth, oldMenuWidth);\r\n        const transitionOffset = (screenWidth + maxMenuWidth) / 2;\r\n\r\n        // Move new menu to initial position outside the screen, without\r\n        // transitioning\r\n        if (!skipTransition) {\r\n            setElementTransition(menuElement, directionSign * transitionOffset, 0);\r\n        }\r\n\r\n        // Start exit transition of old menu\r\n        if (oldMenu && !skipTransition) {\r\n            setElementTransition(oldMenu, - directionSign * transitionOffset, duration, 'ease-in-out');\r\n            oldMenu.addEventListener('transitionstart', e => {\r\n                if (e.target != oldMenu) return;\r\n                startNewMenuEntry();\r\n            });\r\n            oldMenu.addEventListener('transitionend', e => {\r\n                if (e.target != oldMenu) return;\r\n                oldMenu.removeAttribute('style');\r\n                oldMenu.remove();\r\n                oldMenu = null;\r\n            });\r\n        }\r\n        \r\n        // Start entry transition of new menu\r\n        function startNewMenuEntry() {\r\n            setElementTransition(menuElement, 0, duration, 'ease-in-out');\r\n            menuElement.addEventListener('transitionend', e => {\r\n                if (e.target != menuElement) return;\r\n                menuElement.removeAttribute('style');\r\n                menuObject.setActive();\r\n            });\r\n        }\r\n        \r\n        if (skipTransition) {\r\n            menuObject.setActive();\r\n        }\r\n    }\r\n\r\n    function hide() {\r\n        menuWrapper.classList.add('hidden');\r\n        menuWrapper.innerHTML = '';\r\n        menuObject.setNotActive();\r\n        menuObject = null;\r\n        menuElement = null;\r\n    }\r\n\r\n    function show() {\r\n        menuWrapper.classList.remove('hidden');\r\n        setMenu(_main_menu__WEBPACK_IMPORTED_MODULE_1__.default, true, true);\r\n    }\r\n\r\n    return({ setMenu, hide, show });\r\n})();\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MenuController);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/menu-controller.js?");

/***/ }),

/***/ "./src/menu-system/menu-utilities.js":
/*!*******************************************!*\
  !*** ./src/menu-system/menu-utilities.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createMenuElement\": () => (/* binding */ createMenuElement),\n/* harmony export */   \"createTitleElement\": () => (/* binding */ createTitleElement),\n/* harmony export */   \"createButton\": () => (/* binding */ createButton)\n/* harmony export */ });\nfunction createMenuElement(id, titleElement, elementArray) {\r\n    const menuElement = document.createElement('div');\r\n    menuElement.setAttribute('id', id);\r\n    menuElement.classList.add('menu');\r\n    menuElement.appendChild(titleElement);\r\n\r\n    const elementContainer = document.createElement('div');\r\n    elementContainer.classList.add('menu-element-container');\r\n\r\n    for (const element of elementArray) {\r\n        elementContainer.appendChild(element);\r\n    }\r\n    menuElement.appendChild(elementContainer);\r\n    \r\n    return(menuElement);\r\n}\r\n\r\nfunction createTitleElement(titleInnerHTML, classArray = []) {\r\n    const titleElement = document.createElement('div');\r\n    titleElement.innerHTML = titleInnerHTML;\r\n    titleElement.setAttribute('id', 'menu-title');\r\n    classArray.forEach(className => titleElement.classList.add(className));\r\n    return(titleElement);\r\n}\r\n\r\nfunction createButton(id, text, classArray = []) {\r\n    const buttonElement = document.createElement('div');\r\n    buttonElement.setAttribute('id', id);\r\n    buttonElement.textContent = text;\r\n    classArray = classArray.concat(['menu-button']);\r\n    classArray.forEach(className => buttonElement.classList.add(className));\r\n    return(buttonElement);\r\n}\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://minigolf/./src/menu-system/menu-utilities.js?");

/***/ }),

/***/ "./src/menu-system/menu.js":
/*!*********************************!*\
  !*** ./src/menu-system/menu.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu-utilities */ \"./src/menu-system/menu-utilities.js\");\n\r\n\r\nfunction Menu(id) {\r\n    const elements = [];\r\n    let titleElement;\r\n    let menuElement;\r\n    let isActive = false;\r\n\r\n    function addButton(id, text, classArray = []) {\r\n        const newButton = _menu_utilities__WEBPACK_IMPORTED_MODULE_0__.createButton(id, text, classArray);\r\n        elements.push(newButton);\r\n        return(newButton);\r\n    }\r\n\r\n    function addCustomElement(element) {\r\n        elements.push(element);\r\n    }\r\n\r\n    function setTitle(titleInnerHTML, classArray = []) {\r\n        titleElement = _menu_utilities__WEBPACK_IMPORTED_MODULE_0__.createTitleElement(titleInnerHTML, classArray);\r\n    }\r\n\r\n    function createMenuElement() {\r\n        menuElement = _menu_utilities__WEBPACK_IMPORTED_MODULE_0__.createMenuElement(id, titleElement, elements);\r\n    }\r\n\r\n    function addRestrictedEventListener(element, eventName, callback) {\r\n        function restrictedHandler(event) {\r\n            if (!isActive) return;\r\n            callback(event);    \r\n        }\r\n        element.addEventListener(eventName, restrictedHandler);\r\n    }\r\n\r\n\r\n    function getMenuElement() {\r\n        return(menuElement);\r\n    }\r\n\r\n    function setActive() {\r\n        isActive = true;\r\n    }\r\n       \r\n    function setNotActive() {\r\n        isActive = false;\r\n    }\r\n\r\n    function clearInput() {\r\n        menuElement.querySelectorAll('textarea')\r\n            .forEach(elem => elem.value = '');\r\n    }\r\n\r\n    return({ addButton, setTitle, createMenuElement, getMenuElement, setActive,\r\n         setNotActive, addCustomElement, addRestrictedEventListener, clearInput })\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Menu);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/menu.js?");

/***/ }),

/***/ "./src/menu-system/multiplayer-menu.js":
/*!*********************************************!*\
  !*** ./src/menu-system/multiplayer-menu.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu */ \"./src/menu-system/menu.js\");\n/* harmony import */ var _menu_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _main_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./main-menu */ \"./src/menu-system/main-menu.js\");\n\r\n\r\n\r\n\r\nconst multiplayerMenu = (0,_menu__WEBPACK_IMPORTED_MODULE_0__.default)('multiplayer-menu');\r\n\r\nconst startButton = multiplayerMenu.addButton('start-button', 'Start game');\r\nmultiplayerMenu.addRestrictedEventListener(startButton,\r\n    'click', () => console.log('start'));\r\n\r\nconst backButton = multiplayerMenu.addButton('back-button', 'Go back');\r\nmultiplayerMenu.addRestrictedEventListener(backButton,\r\n    'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.setMenu(_main_menu__WEBPACK_IMPORTED_MODULE_2__.default, false));\r\n\r\nmultiplayerMenu.setTitle('Multi-player game', ['title-small']);\r\n\r\nmultiplayerMenu.createMenuElement();\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (multiplayerMenu);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/multiplayer-menu.js?");

/***/ }),

/***/ "./src/menu-system/new-online-game-menu.js":
/*!*************************************************!*\
  !*** ./src/menu-system/new-online-game-menu.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n/* harmony import */ var _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../online-game-handler/online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n/* harmony import */ var _utilities_online_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/online-utilities */ \"./src/utilities/online-utilities.js\");\n/* harmony import */ var _dialog_box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dialog-box */ \"./src/menu-system/dialog-box.js\");\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./menu */ \"./src/menu-system/menu.js\");\n/* harmony import */ var _menu_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _online_game_menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./online-game-menu */ \"./src/menu-system/online-game-menu.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst newOnlineGameMenu = (0,_menu__WEBPACK_IMPORTED_MODULE_4__.default)('new-online-game-menu');\r\n\r\nconst playerNameContainer = document.createElement('div');\r\nplayerNameContainer.innerHTML = `\r\n<div id=\"create-player-name\" class=\"menu-inner-option-container menu-text-option\">\r\n    <div id=\"create-player-name-label\" class=\"option-label\">Your name</div>\r\n    <textarea id=\"create-player-name-input\" rows=\"1\" placeholder=\"max 20 characters\"></textarea>\r\n</div>`;\r\nnewOnlineGameMenu.addCustomElement(playerNameContainer);\r\nconst nameInput = playerNameContainer.querySelector('#create-player-name-input');\r\n\r\nconst gameIdContainer = document.createElement('div');\r\ngameIdContainer.innerHTML = `\r\n<div id=\"create-game-id\" class=\"menu-inner-option-container menu-text-option\">\r\n    <div id=\"create-game-id-label\" class=\"option-label\">Game ID</div>\r\n    <textarea id=\"create-game-id-input\" rows=\"1\" placeholder=\"optional\"></textarea>\r\n</div>`;\r\nnewOnlineGameMenu.addCustomElement(gameIdContainer);\r\nconst gameIdInput = gameIdContainer.querySelector('#create-game-id-input');\r\n\r\nconst numCoursesContainer = document.createElement('div');\r\nnumCoursesContainer.innerHTML = `\r\n<div id=\"create-number-courses\" class=\"menu-inner-option-container menu-text-option\">\r\n    <div id=\"create-number-courses-label\" class=\"option-label\">Number of holes</div>\r\n    <textarea id=\"create-number-courses-input\" rows=\"1\" placeholder=\"must be ≥ 1\"></textarea>\r\n</div>`;\r\nnewOnlineGameMenu.addCustomElement(numCoursesContainer);\r\nconst numCoursesInput = numCoursesContainer.querySelector('#create-number-courses-input');\r\n\r\nconst createButton = newOnlineGameMenu.addButton('create-button', 'Create game');\r\nnewOnlineGameMenu.addRestrictedEventListener(createButton,\r\n    'click', handleCreateGame);\r\n\r\nconst backButton = newOnlineGameMenu.addButton('back-button', 'Go back');\r\nnewOnlineGameMenu.addRestrictedEventListener(backButton,\r\n    'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_5__.default.setMenu(_online_game_menu__WEBPACK_IMPORTED_MODULE_6__.default, false));\r\n\r\nnewOnlineGameMenu.setTitle('New online game', ['title-small']);\r\n\r\nnewOnlineGameMenu.createMenuElement();\r\n\r\nconst menuElement = newOnlineGameMenu.getMenuElement();\r\nmenuElement.addEventListener('keydown', e => {\r\n    if (e.key !== 'Enter') return;\r\n    e.preventDefault();\r\n    handleCreateGame();\r\n});\r\n\r\nfunction handleCreateGame() {\r\n    const playerName = nameInput.value;\r\n    const gameId = gameIdInput.value;\r\n    const numCourses = numCoursesInput.value;\r\n\r\n    if (!playerName) {\r\n        (0,_dialog_box__WEBPACK_IMPORTED_MODULE_3__.default)('Please enter a name', \r\n            [{text: 'Ok'}]);\r\n    } else if (playerName.length > _config__WEBPACK_IMPORTED_MODULE_0__.playerConfig.maxNameLength) {\r\n        (0,_dialog_box__WEBPACK_IMPORTED_MODULE_3__.default)('The name entered is too long', \r\n        [{text: 'Ok'}]);\r\n    } else if (!numCourses || numCourses < 1) {\r\n        (0,_dialog_box__WEBPACK_IMPORTED_MODULE_3__.default)('The number of holes must be a number greater than 0', \r\n        [{text: 'Ok'}]);\r\n    } else if (gameId && !(0,_utilities_online_utilities__WEBPACK_IMPORTED_MODULE_2__.checkValidId)(gameId)) {\r\n        (0,_dialog_box__WEBPACK_IMPORTED_MODULE_3__.default)('The game ID can only consist of letters, numbers and hyphens (-)', \r\n        [{text: 'Ok'}]);\r\n    } else {\r\n        _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__.default.setPlayerName(playerName);\r\n        const wsClient = _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__.default.createWSClient();\r\n        wsClient.addEventListener('open', () => \r\n            sendCreateGameMessage(playerName, gameId, numCourses));\r\n    }\r\n}\r\n\r\nfunction sendCreateGameMessage(playerName, gameId, numCourses) {\r\n    const message = {};\r\n    message.eventName = 'newOnlineGame';\r\n    message.data = {\r\n        playerName,\r\n        gameId,\r\n        isGameIdSpecified: Boolean(gameId),\r\n        numberOfCourses: numCourses\r\n    };\r\n    _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_1__.default.sendMessage(JSON.stringify(message));\r\n}\r\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (newOnlineGameMenu);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/new-online-game-menu.js?");

/***/ }),

/***/ "./src/menu-system/online-game-menu.js":
/*!*********************************************!*\
  !*** ./src/menu-system/online-game-menu.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu */ \"./src/menu-system/menu.js\");\n/* harmony import */ var _menu_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _main_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./main-menu */ \"./src/menu-system/main-menu.js\");\n/* harmony import */ var _new_online_game_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./new-online-game-menu */ \"./src/menu-system/new-online-game-menu.js\");\n/* harmony import */ var _join_online_game_menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./join-online-game-menu */ \"./src/menu-system/join-online-game-menu.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst onlineGameMenu = (0,_menu__WEBPACK_IMPORTED_MODULE_0__.default)('online-game-menu');\r\n\r\nconst newGameButton = onlineGameMenu.addButton('new-game-button', 'Create new game');\r\nonlineGameMenu.addRestrictedEventListener(newGameButton,\r\n    'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.setMenu(_new_online_game_menu__WEBPACK_IMPORTED_MODULE_3__.default));\r\n\r\nconst joinGameButton = onlineGameMenu.addButton('join-game-button', 'Join game');\r\nonlineGameMenu.addRestrictedEventListener(joinGameButton,\r\n    'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.setMenu(_join_online_game_menu__WEBPACK_IMPORTED_MODULE_4__.default));\r\n\r\nconst backButton = onlineGameMenu.addButton('back-button', 'Go back');\r\nonlineGameMenu.addRestrictedEventListener(backButton,\r\n    'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.setMenu(_main_menu__WEBPACK_IMPORTED_MODULE_2__.default, false));\r\n\r\nonlineGameMenu.setTitle('Online game', ['title-small']);\r\n\r\nonlineGameMenu.createMenuElement();\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (onlineGameMenu);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/online-game-menu.js?");

/***/ }),

/***/ "./src/menu-system/singleplayer-menu.js":
/*!**********************************************!*\
  !*** ./src/menu-system/singleplayer-menu.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu */ \"./src/menu-system/menu.js\");\n/* harmony import */ var _menu_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _main_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./main-menu */ \"./src/menu-system/main-menu.js\");\n/* harmony import */ var _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sidebar/sidebar */ \"./src/sidebar/sidebar.js\");\n/* harmony import */ var _game_resources_singleplayer_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../game-resources/singleplayer-game */ \"./src/game-resources/singleplayer-game.js\");\n/* harmony import */ var _svg_setup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../svg-setup */ \"./src/svg-setup.js\");\n/* harmony import */ var _dialog_box__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dialog-box */ \"./src/menu-system/dialog-box.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst singleplayerMenu = (0,_menu__WEBPACK_IMPORTED_MODULE_0__.default)('singeplayer-menu');\r\n\r\n//<div id=\"singleplayer-numcourse-container\" class=\"menu-option-container\">\r\nconst numberOfCoursesContainer = document.createElement('div');\r\nnumberOfCoursesContainer.innerHTML = `\r\n<div id=\"singleplayer-numcourse-container\" class=\"menu-option-container\">\r\n    <div id=\"singleplayer-numcourse-input-container\" class=\"menu-inner-option-container menu-text-option\">\r\n        <div id=\"singleplayer-numcourse-label\" class=\"option-label\">Number of courses</div>\r\n        <textarea id=\"singleplayer-numcourses-input\" rows=\"1\" placeholder=\"number > 0\"></textarea>\r\n    </div>\r\n</div>\r\n`\r\nsingleplayerMenu.addCustomElement(numberOfCoursesContainer);\r\n\r\nconst numberOfCoursesElement = numberOfCoursesContainer.querySelector('#singleplayer-numcourses-input');\r\n\r\nconst startButton = singleplayerMenu.addButton('start-button', 'Start game');\r\nsingleplayerMenu.addRestrictedEventListener(startButton,\r\n     'click', handleNewGame);\r\n\r\nfunction handleNewGame() {\r\n    const numCourses = parseInt(numberOfCoursesElement.value);\r\n    if (!numCourses) {\r\n        (0,_dialog_box__WEBPACK_IMPORTED_MODULE_6__.default)('The number of courses must be a number greater than 0', [{text: 'Ok'}]);\r\n        return;\r\n    }\r\n    let game = new _game_resources_singleplayer_game__WEBPACK_IMPORTED_MODULE_4__.default(_svg_setup__WEBPACK_IMPORTED_MODULE_5__.default);\r\n    game.generateNewCourse();\r\n    _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.hide();\r\n    game.show();\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.show();\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.singleplayerSetup();\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.setCurrentCourse(1);\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.setNumberOfCourses(numCourses);\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.setExitCallback(() => {\r\n        _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.show();\r\n        game.hide();\r\n        _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.reset();\r\n        _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.hide();\r\n        game = null;\r\n    });\r\n}\r\n\r\nconst backButton = singleplayerMenu.addButton('back-button', 'Go back');\r\nsingleplayerMenu.addRestrictedEventListener(backButton,\r\n    'click', () => _menu_controller__WEBPACK_IMPORTED_MODULE_1__.default.setMenu(_main_menu__WEBPACK_IMPORTED_MODULE_2__.default, false));\r\n\r\nsingleplayerMenu.setTitle('Single-player game', ['title-small']);\r\n\r\nsingleplayerMenu.createMenuElement();\r\n\r\nconst menuElement = singleplayerMenu.getMenuElement();\r\nmenuElement.addEventListener('keydown', e => {\r\n    if (e.key !== 'Enter') return;\r\n    e.preventDefault();\r\n    handleNewGame();\r\n    singleplayerMenu.clearInput();\r\n});\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (singleplayerMenu);\n\n//# sourceURL=webpack://minigolf/./src/menu-system/singleplayer-menu.js?");

/***/ }),

/***/ "./src/online-game-handler/handle-execute-putt.js":
/*!********************************************************!*\
  !*** ./src/online-game-handler/handle-execute-putt.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _sidebar_score_board__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sidebar/score-board */ \"./src/sidebar/score-board.js\");\n/* harmony import */ var _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sidebar/sidebar */ \"./src/sidebar/sidebar.js\");\n/* harmony import */ var _online_game_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n\r\n\r\n\r\n\r\nfunction handleExecutePutt(data) {\r\n    const onlineGame = _online_game_handler__WEBPACK_IMPORTED_MODULE_2__.default.getGame();\r\n\r\n    const playerName = data.playerName;\r\n    const speed = data.golfBallSpeed;\r\n    const direction = data.golfBallDirection;\r\n    const finalPosition = data.finalPosition;\r\n\r\n    if (data.isFinished) {\r\n        onlineGame.storeNextPlayer(data.nextPlayer);\r\n    }\r\n\r\n    if (data.isNewCourse) {\r\n        onlineGame.storeNewCourseData(data.newCourseData, data.newCourseName);\r\n    }\r\n    console.log(onlineGame.getCurrentCourseName());\r\n    _sidebar_score_board__WEBPACK_IMPORTED_MODULE_0__.default.incrementPlayerScore(onlineGame.getCurrentCourseName(), playerName);\r\n    onlineGame.setGolfBallSpeed(speed);    \r\n    onlineGame.setGolfBallDirection(direction);\r\n    onlineGame.setFinalPosition(finalPosition);\r\n    onlineGame.executePutt();\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handleExecutePutt);\n\n//# sourceURL=webpack://minigolf/./src/online-game-handler/handle-execute-putt.js?");

/***/ }),

/***/ "./src/online-game-handler/handle-game-creation-successful.js":
/*!********************************************************************!*\
  !*** ./src/online-game-handler/handle-game-creation-successful.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_system_menu_controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../menu-system/menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _menu_system_new_online_game_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../menu-system/new-online-game-menu */ \"./src/menu-system/new-online-game-menu.js\");\n/* harmony import */ var _sidebar_player_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sidebar/player-list */ \"./src/sidebar/player-list.js\");\n/* harmony import */ var _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sidebar/sidebar */ \"./src/sidebar/sidebar.js\");\n/* harmony import */ var _online_game_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction handleGameCreationSuccessful(data) {\r\n    console.log(data);\r\n    const onlineGame = _online_game_handler__WEBPACK_IMPORTED_MODULE_4__.default.createGame();\r\n    onlineGame.setGameContent(data.courseData);\r\n    onlineGame.setCurrentPlayer(data.currentPlayer);\r\n    onlineGame.setCurrentCourseName(data.courseName);\r\n    \r\n    _online_game_handler__WEBPACK_IMPORTED_MODULE_4__.default.setPlayerId(data.playerId);\r\n    _online_game_handler__WEBPACK_IMPORTED_MODULE_4__.default.setGameId(data.gameId);\r\n\r\n    for (const playerName of data.playerNames) {\r\n        _sidebar_player_list__WEBPACK_IMPORTED_MODULE_2__.default.addPlayer(playerName);\r\n    }\r\n    _online_game_handler__WEBPACK_IMPORTED_MODULE_4__.default.showGame();\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.setNumberOfCourses(data.numberOfCourses);\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.setCurrentCourse(1);\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_3__.default.setExitCallback(() => {            \r\n        _online_game_handler__WEBPACK_IMPORTED_MODULE_4__.default.hideGame();\r\n        _online_game_handler__WEBPACK_IMPORTED_MODULE_4__.default.exit();\r\n    });\r\n    _menu_system_new_online_game_menu__WEBPACK_IMPORTED_MODULE_1__.default.clearInput();\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handleGameCreationSuccessful);\n\n//# sourceURL=webpack://minigolf/./src/online-game-handler/handle-game-creation-successful.js?");

/***/ }),

/***/ "./src/online-game-handler/handle-general-error.js":
/*!*********************************************************!*\
  !*** ./src/online-game-handler/handle-general-error.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_system_dialog_box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../menu-system/dialog-box */ \"./src/menu-system/dialog-box.js\");\n\r\n\r\nfunction handleGeneralError(data) {\r\n    (0,_menu_system_dialog_box__WEBPACK_IMPORTED_MODULE_0__.default)(`Error: ${data.errorDescription}`,\r\n        [{text: 'Ok'}]);\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handleGeneralError);\n\n//# sourceURL=webpack://minigolf/./src/online-game-handler/handle-general-error.js?");

/***/ }),

/***/ "./src/online-game-handler/handle-join-request-successful.js":
/*!*******************************************************************!*\
  !*** ./src/online-game-handler/handle-join-request-successful.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_system_join_online_game_menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../menu-system/join-online-game-menu */ \"./src/menu-system/join-online-game-menu.js\");\n/* harmony import */ var _menu_system_menu_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../menu-system/menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _sidebar_player_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sidebar/player-list */ \"./src/sidebar/player-list.js\");\n/* harmony import */ var _sidebar_score_board__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sidebar/score-board */ \"./src/sidebar/score-board.js\");\n/* harmony import */ var _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../sidebar/sidebar */ \"./src/sidebar/sidebar.js\");\n/* harmony import */ var _online_game_handler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction handleJoinRequestSuccessful(data) {\r\n    console.log(data);\r\n    _online_game_handler__WEBPACK_IMPORTED_MODULE_5__.default.createGame();\r\n    _online_game_handler__WEBPACK_IMPORTED_MODULE_5__.default.setPlayerId(data.playerId);\r\n    _online_game_handler__WEBPACK_IMPORTED_MODULE_5__.default.setGameId(data.gameId);\r\n    \r\n    const onlineGame = _online_game_handler__WEBPACK_IMPORTED_MODULE_5__.default.createGame();\r\n    \r\n    onlineGame.setGameContent(data.courseData);\r\n    onlineGame.setCurrentCourseName(data.courseName);\r\n\r\n    for (const playerName of data.playerNames) {\r\n        _sidebar_player_list__WEBPACK_IMPORTED_MODULE_2__.default.addPlayer(playerName);\r\n    }\r\n\r\n    onlineGame.setCurrentPlayer(data.currentPlayer);\r\n    onlineGame.setGolfBallPosition(data.golfBallPosition);\r\n\r\n    _online_game_handler__WEBPACK_IMPORTED_MODULE_5__.default.showGame();\r\n    _sidebar_score_board__WEBPACK_IMPORTED_MODULE_3__.default.setScoreArray(data.scoreArray);\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_4__.default.setNumberOfCourses(data.numberOfCourses);\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_4__.default.setCurrentCourse(data.courseNumber);\r\n    _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_4__.default.setExitCallback(() => {            \r\n        _online_game_handler__WEBPACK_IMPORTED_MODULE_5__.default.hideGame();\r\n        _online_game_handler__WEBPACK_IMPORTED_MODULE_5__.default.exit();\r\n    });\r\n    _menu_system_join_online_game_menu__WEBPACK_IMPORTED_MODULE_0__.default.clearInput();\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handleJoinRequestSuccessful);\n\n//# sourceURL=webpack://minigolf/./src/online-game-handler/handle-join-request-successful.js?");

/***/ }),

/***/ "./src/online-game-handler/handle-message-received.js":
/*!************************************************************!*\
  !*** ./src/online-game-handler/handle-message-received.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _sidebar_chat_box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sidebar/chat-box */ \"./src/sidebar/chat-box.js\");\n\r\n\r\nfunction handleMessageReceived(data) {\r\n    _sidebar_chat_box__WEBPACK_IMPORTED_MODULE_0__.default.receiveMessage(data.playerName, data.message);\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handleMessageReceived);\n\n//# sourceURL=webpack://minigolf/./src/online-game-handler/handle-message-received.js?");

/***/ }),

/***/ "./src/online-game-handler/handle-player-joined.js":
/*!*********************************************************!*\
  !*** ./src/online-game-handler/handle-player-joined.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _sidebar_chat_box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sidebar/chat-box */ \"./src/sidebar/chat-box.js\");\n/* harmony import */ var _sidebar_player_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sidebar/player-list */ \"./src/sidebar/player-list.js\");\n\r\n\r\n\r\nfunction handlePlayerJoined(data) {\r\n    _sidebar_player_list__WEBPACK_IMPORTED_MODULE_1__.default.addPlayer(data.playerName);\r\n    _sidebar_chat_box__WEBPACK_IMPORTED_MODULE_0__.default.receiveAnnouncement(`${data.playerName} has joined the game`);\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handlePlayerJoined);\n\n//# sourceURL=webpack://minigolf/./src/online-game-handler/handle-player-joined.js?");

/***/ }),

/***/ "./src/online-game-handler/handle-player-left.js":
/*!*******************************************************!*\
  !*** ./src/online-game-handler/handle-player-left.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _sidebar_chat_box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sidebar/chat-box */ \"./src/sidebar/chat-box.js\");\n/* harmony import */ var _sidebar_player_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sidebar/player-list */ \"./src/sidebar/player-list.js\");\n/* harmony import */ var _sidebar_show_announcement__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sidebar/show-announcement */ \"./src/sidebar/show-announcement.js\");\n/* harmony import */ var _online_game_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n\r\n\r\n\r\n\r\n\r\nfunction handlePlayerLeft(data) {\r\n    _sidebar_player_list__WEBPACK_IMPORTED_MODULE_1__.default.removePlayer(data.playerName);\r\n    _sidebar_chat_box__WEBPACK_IMPORTED_MODULE_0__.default.receiveAnnouncement(`${data.playerName} has left the game`);\r\n\r\n    const onlineGame = _online_game_handler__WEBPACK_IMPORTED_MODULE_3__.default.getGame();\r\n    if (data.currentPlayerLeft) {\r\n        onlineGame.resetGolfBall();\r\n        if (data.isNewCourse) {\r\n            (0,_sidebar_show_announcement__WEBPACK_IMPORTED_MODULE_2__.default)(`NEW HOLE, NEXT PLAYER: ${data.newCurrentPlayerName}`,() => {\r\n                onlineGame.setGameContent(data.newCourseData);\r\n                onlineGame.setCurrentCourseName(data.newCourseName);\r\n                onlineGame.setCurrentPlayer(data.newCurrentPlayerName);\r\n            });\r\n        } else {\r\n            (0,_sidebar_show_announcement__WEBPACK_IMPORTED_MODULE_2__.default)(`NEXT PLAYER: ${data.newCurrentPlayerName}`,() => {\r\n                onlineGame.setCurrentPlayer(data.newCurrentPlayerName);\r\n            });\r\n        }\r\n    } \r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handlePlayerLeft);\n\n//# sourceURL=webpack://minigolf/./src/online-game-handler/handle-player-left.js?");

/***/ }),

/***/ "./src/online-game-handler/online-game-handler.js":
/*!********************************************************!*\
  !*** ./src/online-game-handler/online-game-handler.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n/* harmony import */ var _game_resources_online_game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../game-resources/online-game */ \"./src/game-resources/online-game.js\");\n/* harmony import */ var _menu_system_dialog_box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../menu-system/dialog-box */ \"./src/menu-system/dialog-box.js\");\n/* harmony import */ var _menu_system_menu_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../menu-system/menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../sidebar/sidebar */ \"./src/sidebar/sidebar.js\");\n/* harmony import */ var _svg_setup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../svg-setup */ \"./src/svg-setup.js\");\n/* harmony import */ var _handle_execute_putt__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./handle-execute-putt */ \"./src/online-game-handler/handle-execute-putt.js\");\n/* harmony import */ var _handle_game_creation_successful__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./handle-game-creation-successful */ \"./src/online-game-handler/handle-game-creation-successful.js\");\n/* harmony import */ var _handle_join_request_successful__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./handle-join-request-successful */ \"./src/online-game-handler/handle-join-request-successful.js\");\n/* harmony import */ var _handle_message_received__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./handle-message-received */ \"./src/online-game-handler/handle-message-received.js\");\n/* harmony import */ var _handle_player_joined__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./handle-player-joined */ \"./src/online-game-handler/handle-player-joined.js\");\n/* harmony import */ var _handle_player_left__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./handle-player-left */ \"./src/online-game-handler/handle-player-left.js\");\n/* harmony import */ var _handle_general_error__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./handle-general-error */ \"./src/online-game-handler/handle-general-error.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst eventHandlers = {handleGameCreationSuccessful: _handle_game_creation_successful__WEBPACK_IMPORTED_MODULE_7__.default, handlePlayerJoined: _handle_player_joined__WEBPACK_IMPORTED_MODULE_10__.default, \r\n    handlePlayerLeft: _handle_player_left__WEBPACK_IMPORTED_MODULE_11__.default, handleMessageReceived: _handle_message_received__WEBPACK_IMPORTED_MODULE_9__.default, handleJoinRequestSuccessful: _handle_join_request_successful__WEBPACK_IMPORTED_MODULE_8__.default, \r\n    handleExecutePutt: _handle_execute_putt__WEBPACK_IMPORTED_MODULE_6__.default, handleGeneralError: _handle_general_error__WEBPACK_IMPORTED_MODULE_12__.default};\r\n\r\nconst OnlineGameHandler = (() => {\r\n    let onlineGame;\r\n    let webSocket;\r\n    let gameId;\r\n    let playerId;\r\n    let playerName;\r\n    \r\n    function createGame() {\r\n        onlineGame = new _game_resources_online_game__WEBPACK_IMPORTED_MODULE_1__.default(_svg_setup__WEBPACK_IMPORTED_MODULE_5__.default);\r\n        return(onlineGame);\r\n    }\r\n\r\n    function getGame() {\r\n        return(onlineGame);\r\n    }\r\n\r\n    function createWSClient() {\r\n        const connectionString = `ws://${_config__WEBPACK_IMPORTED_MODULE_0__.webSocketConfig.host}:${_config__WEBPACK_IMPORTED_MODULE_0__.webSocketConfig.port}`;\r\n        webSocket = new WebSocket(connectionString);\r\n        webSocket.addEventListener('message', handleIncomingMessage);\r\n        webSocket.addEventListener('error', handleConnectionError);\r\n        return(webSocket);\r\n    }\r\n\r\n    function closeWSClient() {\r\n        if (webSocket) {\r\n            webSocket.close();\r\n            webSocket = null;\r\n        }\r\n    }\r\n\r\n    function setGameId(_gameId) {\r\n        gameId = _gameId;\r\n    }\r\n\r\n    function getGameId() {\r\n        return(gameId);\r\n    }\r\n\r\n    function setPlayerId(_playerId) {\r\n        playerId = _playerId;\r\n    }\r\n\r\n    function getPlayerId() {\r\n        return(playerId);\r\n    }\r\n\r\n    function setPlayerName(_playerName) {\r\n        playerName = _playerName;\r\n    }\r\n\r\n    function getPlayerName() {\r\n        return(playerName);\r\n    }\r\n\r\n    function handleIncomingMessage(event) {\r\n        console.log(JSON.parse(event.data));\r\n        //return;\r\n        const outerData = JSON.parse(event.data);\r\n        let eventName = outerData.eventName;\r\n        let data = outerData.data;\r\n        \r\n        eventName = eventName[0].toUpperCase() + eventName.slice(1);\r\n        const handlerName = 'handle' + eventName;\r\n        if (handlerName in eventHandlers) {\r\n        eventHandlers[handlerName](data);\r\n        } else {\r\n            (0,_handle_general_error__WEBPACK_IMPORTED_MODULE_12__.default)(data);\r\n        }\r\n    }\r\n\r\n    function sendMessage(message) {\r\n        webSocket.send(message);\r\n    }\r\n\r\n    function handleConnectionError() {\r\n        (0,_menu_system_dialog_box__WEBPACK_IMPORTED_MODULE_2__.default)('Could not connect to server. Please try again later', [{text: 'Ok'}]);\r\n    }\r\n\r\n    function showGame() {\r\n        _menu_system_menu_controller__WEBPACK_IMPORTED_MODULE_3__.default.hide();    \r\n        onlineGame.show();\r\n        _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_4__.default.show();\r\n    }\r\n\r\n    function hideGame() {\r\n        onlineGame.hide();\r\n        _sidebar_sidebar__WEBPACK_IMPORTED_MODULE_4__.default.hide();\r\n        _menu_system_menu_controller__WEBPACK_IMPORTED_MODULE_3__.default.show();    \r\n    }\r\n\r\n    function sendPuttMessage() {\r\n        const {golfBallSpeed, golfBallDirection} = onlineGame.getGolfBallVelocity();\r\n\r\n        const message = {};\r\n        message.eventName = 'executePutt';\r\n        message.data = {playerId, gameId,\r\n            golfBallSpeed, golfBallDirection}\r\n        sendMessage(JSON.stringify(message));\r\n    }\r\n\r\n    function exit() {\r\n        webSocket.close();\r\n        webSocket = null;\r\n        onlineGame = null;\r\n        gameId = null;\r\n        playerId = null;\r\n        playerName = null;\r\n    }\r\n\r\n    return({createGame, getGame, createWSClient, closeWSClient, sendMessage,\r\n        setGameId, getGameId, setPlayerId, getPlayerId,\r\n        setPlayerName, getPlayerName, sendPuttMessage,\r\n        exit, showGame, hideGame})\r\n})();\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OnlineGameHandler);\n\n//# sourceURL=webpack://minigolf/./src/online-game-handler/online-game-handler.js?");

/***/ }),

/***/ "./src/sidebar/chat-box.js":
/*!*********************************!*\
  !*** ./src/sidebar/chat-box.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../online-game-handler/online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n/* harmony import */ var _player_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./player-list */ \"./src/sidebar/player-list.js\");\n\r\n\r\n\r\nconst ChatBox = (() => {\r\n    const chatBoxContainer = document.querySelector('#chat-box-container');\r\n    const chatBoxElement = document.querySelector('#chat-box');\r\n    \r\n    const inputElement = document.querySelector('#chat-input');\r\n    inputElement.addEventListener('keydown', event => {\r\n        if (event.key !== \"Enter\") return;\r\n        handleSendMessage();\r\n    })\r\n    \r\n    const sendButton = document.querySelector('#chat-send-message-button');\r\n    sendButton.addEventListener('click', handleSendMessage);\r\n    \r\n    let localPlayerName;\r\n\r\n    function handleSendMessage() {\r\n        const inputText = inputElement.value;\r\n        inputElement.focus();\r\n        if (!inputText.trim()) return;\r\n        const gameId = _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_0__.default.getGameId();\r\n        const playerId = _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_0__.default.getPlayerId();\r\n        \r\n        const message = {};\r\n        message.eventName = 'messageSent';\r\n        message.data = {gameId, playerId, message: inputText};\r\n        _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_0__.default.sendMessage(JSON.stringify(message));\r\n\r\n        inputElement.value = '';\r\n        //receiveMessage(localPlayerName, inputText);\r\n    }\r\n\r\n    function receiveMessage(playerName, message) {\r\n        const newChatElement = document.createElement('div');\r\n        newChatElement.classList.add('chat-element');\r\n\r\n        newChatElement.innerHTML = \r\n            `<span class=\"chat-playername\"></span>: `+ \r\n            `<span class=\"chat-message\"></span>`;\r\n\r\n        const nameElement = newChatElement.querySelector('.chat-playername');\r\n        const messageElement = newChatElement.querySelector('.chat-message');\r\n\r\n        // Set textContent to avoid XSS\r\n        nameElement.textContent = playerName;\r\n        nameElement.style.color = _player_list__WEBPACK_IMPORTED_MODULE_1__.default.getPlayerColor(playerName);\r\n        messageElement.textContent = message;\r\n\r\n        chatBoxElement.insertBefore(newChatElement, chatBoxElement.firstChild);\r\n    }\r\n\r\n    function setLocalPlayerName(playerName) {\r\n        localPlayerName = playerName;\r\n    }\r\n\r\n    function receiveAnnouncement(announcement) {\r\n        const newChatElement = document.createElement('div');\r\n        newChatElement.classList.add('chat-element', 'chat-announcement');\r\n        newChatElement.textContent = announcement;\r\n\r\n        chatBoxElement.insertBefore(newChatElement, chatBoxElement.firstChild);\r\n    }\r\n\r\n    function hide() {\r\n        chatBoxContainer.classList.add('hidden');\r\n    }\r\n\r\n    function show() {\r\n        chatBoxContainer.classList.remove('hidden');\r\n\r\n    }\r\n\r\n    function clear() {\r\n        chatBoxElement.innerHTML = '';\r\n        localPlayerName = null;\r\n    }\r\n\r\n    return({ receiveMessage, setLocalPlayerName, receiveAnnouncement,\r\n        show, hide, clear });\r\n})();\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatBox);\r\n\n\n//# sourceURL=webpack://minigolf/./src/sidebar/chat-box.js?");

/***/ }),

/***/ "./src/sidebar/player-list.js":
/*!************************************!*\
  !*** ./src/sidebar/player-list.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n/* harmony import */ var _utilities_color_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/color-utilities */ \"./src/utilities/color-utilities.js\");\n\r\n\r\n\r\nconst PlayerList = (() => {\r\n    const playerListContainer = document.querySelector('#player-list-container');\r\n    const playerArray = [];\r\n    const playerElementMap = {};\r\n    const playerColorMap = {};\r\n\r\n    function addPlayer(playerName) {\r\n        playerArray.push(playerName);\r\n        playerColorMap[playerName] = (0,_utilities_color_utilities__WEBPACK_IMPORTED_MODULE_1__.generateDistinctColor)(playerArray.length, \r\n            _config__WEBPACK_IMPORTED_MODULE_0__.sidebarConfig.userNameSaturation, \r\n            _config__WEBPACK_IMPORTED_MODULE_0__.sidebarConfig.userNameBrightness);\r\n        \r\n        playerElementMap[playerName] = insertToDOM(playerName);\r\n    }\r\n\r\n    function removePlayer(playerName) {\r\n        const index = playerArray.findIndex(name => name === playerName);\r\n        if (index === -1) return;\r\n        \r\n        delete playerArray[index];\r\n        delete playerColorMap[playerName];\r\n        playerElementMap[playerName].remove();\r\n        delete playerElementMap[playerName];\r\n    }\r\n\r\n    function getPlayerColor(playerName) {\r\n        if (!(playerName in playerColorMap)) {\r\n            playerColorMap[playerName] = (0,_utilities_color_utilities__WEBPACK_IMPORTED_MODULE_1__.generateDistinctColor)(playerArray.length, \r\n                _config__WEBPACK_IMPORTED_MODULE_0__.sidebarConfig.userNameSaturation, \r\n                _config__WEBPACK_IMPORTED_MODULE_0__.sidebarConfig.userNameBrightness);\r\n        }\r\n        return(playerColorMap[playerName]);\r\n    }\r\n\r\n    function insertToDOM(playerName) {\r\n        const newPlayerElement = document.createElement('div');\r\n        newPlayerElement.classList.add('player-list-element');\r\n        newPlayerElement.style.backgroundColor = getPlayerColor(playerName);\r\n        newPlayerElement.textContent = playerName;\r\n        \r\n        playerListContainer.appendChild(newPlayerElement);\r\n        return(newPlayerElement);\r\n    }\r\n\r\n    function hide() {\r\n        playerListContainer.classList.add('hidden');\r\n    }\r\n\r\n    function show() {\r\n        playerListContainer.classList.remove('hidden');\r\n    }\r\n\r\n    function clear() {\r\n        playerListContainer.innerHTML = '';\r\n        playerArray = [];\r\n        playerElementMap = {};\r\n        playerColorMap = {};\r\n    }\r\n\r\n    return({ addPlayer, removePlayer, show, hide, getPlayerColor, clear });\r\n})();\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlayerList);\n\n//# sourceURL=webpack://minigolf/./src/sidebar/player-list.js?");

/***/ }),

/***/ "./src/sidebar/score-board.js":
/*!************************************!*\
  !*** ./src/sidebar/score-board.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst scoreMock = [\r\n    {courseName: 1, scores: [ \r\n        {name: \"Feldman\", score: 3},\r\n        {name: \"Jarrett\", score: 5},\r\n        {name: \"Mingus\", score: 2},\r\n        {name: \"Green\", score: 2},\r\n        {name: \"Davis\", score: 2},\r\n        {name: \"Frisell\", score: 2},\r\n        {name: \"Evans\", score: 2},\r\n        {name: \"Guaraldi\", score: 2},\r\n        {name: \"Hancock\", score: 2},\r\n        {name: \"Budd\", score: 4}]},\r\n    {courseName: 2, scores: [ \r\n        {name: \"Feldman\", score: 4}, \r\n        {name: \"Jarrett\", score: 2}, \r\n        {name: \"Mingus\", score: 3}, \r\n        {name: \"Budd\", score: 1}]},\r\n    {courseName: 3, scores: [ \r\n        {name: \"Feldman\", score: 1}, \r\n        {name: \"Jarrett\", score: 3}, \r\n        {name: \"Mingus\", score: 3}, \r\n        {name: \"Budd\", score: 2}]},\r\n    {courseName: 4, scores: [ \r\n        {name: \"Feldman\", score: 2}, \r\n        {name: \"Jarrett\", score: 1}, \r\n        {name: \"Mingus\", score: 3}, \r\n        {name: \"Budd\", score: 5}]},\r\n    {courseName: 5, scores: []}\r\n];\r\n\r\nconst ScoreBoard = (() => {\r\n    const prevCourseButton = document.querySelector('#previous-course');\r\n    prevCourseButton.addEventListener('click', handlePreviousCourseClick);\r\n\r\n    const nextCourseButton = document.querySelector('#next-course');\r\n    nextCourseButton.addEventListener('click', handleNextCourseClick);\r\n\r\n    const courseSummaryButton = document.querySelector('#course-summary');\r\n\r\n    const courseHeader = document.querySelector('#current-course');\r\n    const courseElements = [prevCourseButton, nextCourseButton, \r\n        courseSummaryButton, courseHeader];\r\n    \r\n    const scoreTable = document.querySelector('#table-content');\r\n\r\n    let isShowingSummary;\r\n    let selectedCourseNumber;\r\n    let courseNameIndexMap;\r\n    let scoreArray;\r\n    function initialSetup() {\r\n        isShowingSummary = false;\r\n        selectedCourseNumber = 0;\r\n        courseNameIndexMap = {};\r\n        scoreArray = [];\r\n    }\r\n\r\n    initialSetup();\r\n\r\n    function incrementPlayerScore(courseName, playerName) {\r\n        // Has a score for the course already been registered?\r\n        if (!(courseName in courseNameIndexMap)) {\r\n            courseNameIndexMap[courseName] = scoreArray.length;\r\n            scoreArray.push({courseName, scores: []});\r\n        }\r\n\r\n        const courseIndex = courseNameIndexMap[courseName];\r\n        const courseScores = scoreArray[courseIndex].scores;\r\n\r\n        const playerIndex = courseScores.findIndex(entry => entry.name === playerName);\r\n        if (playerIndex !== -1) {\r\n            courseScores[playerIndex].score += 1;\r\n        } else {\r\n            courseScores.push({name: playerName, score: 1});\r\n        }\r\n        selectedCourseNumber = courseIndex;\r\n        updateScoreTable();\r\n    }\r\n\r\n    function setScoreArray(_scoreArray) {\r\n        scoreArray = _scoreArray;\r\n        updateScoreTable();\r\n    }\r\n    \r\n    courseSummaryButton.addEventListener('click', handleCourseSummaryClick);\r\n\r\n    function handleCourseSummaryClick() {\r\n        if (isShowingSummary) {\r\n            courseElements.forEach(elem => elem.classList.remove('course-summary-enabled'));\r\n            showCurrentCourseContent();\r\n        } else {\r\n            courseElements.forEach(elem => elem.classList.add('course-summary-enabled'));\r\n            showSummaryContent();\r\n        }\r\n        isShowingSummary = !isShowingSummary;\r\n    }\r\n\r\n    function handlePreviousCourseClick() {\r\n        if (isShowingSummary || selectedCourseNumber === 0) return;\r\n        selectedCourseNumber--;\r\n        showCurrentCourseContent();\r\n    }\r\n\r\n    function handleNextCourseClick() {\r\n        if (isShowingSummary || selectedCourseNumber === scoreArray.length - 1) return;\r\n        selectedCourseNumber++;\r\n        showCurrentCourseContent();\r\n    }\r\n\r\n    function showCurrentCourseContent() {\r\n        if (scoreArray.length === 0) {\r\n            setCourseHeader('No data yet');\r\n            return;\r\n        }\r\n        const {courseName, scores} = scoreArray[selectedCourseNumber];\r\n        scores.sort((a, b) => a.score - b.score);\r\n        setCourseHeader('Hole ' + courseName);\r\n\r\n        emptyTable();\r\n        for (const playerScore of scores) {\r\n            insertTableElement(playerScore.name, playerScore.score);\r\n        }\r\n    }\r\n\r\n    function showSummaryContent() {\r\n        setCourseHeader('Totals');\r\n        if (scoreArray.length === 0) return;\r\n        const totalScores = {};\r\n\r\n        for (const scoreEntry of scoreArray) {\r\n            for (const playerScore of scoreEntry.scores) {\r\n                if (!totalScores[playerScore.name]) totalScores[playerScore.name] = 0;\r\n                totalScores[playerScore.name] += playerScore.score;\r\n            }\r\n        }\r\n\r\n        const totalScoreArray = [];\r\n        Object.keys(totalScores)\r\n            .forEach(name => totalScoreArray.push({name, score: totalScores[name]}));\r\n        totalScoreArray.sort((a, b) => a.score - b.score);\r\n\r\n        emptyTable();\r\n        for (const playerScore of totalScoreArray) {\r\n            insertTableElement(playerScore.name, playerScore.score);\r\n        }\r\n    }\r\n\r\n    function setCourseHeader(name) {\r\n        courseHeader.textContent = name;\r\n    }\r\n\r\n    function emptyTable() {\r\n        scoreTable.innerHTML = '';\r\n    }\r\n\r\n    function insertTableElement(playerName, score) {\r\n        const newRow = document.createElement('div');\r\n        newRow.innerHTML = `<p>${playerName}</p><p>${score}</p>`;\r\n        scoreTable.appendChild(newRow);\r\n    }\r\n\r\n    function updateScoreTable() {\r\n        if (isShowingSummary) {\r\n            showSummaryContent();\r\n        } else {\r\n            showCurrentCourseContent();\r\n        }\r\n    }\r\n\r\n    function resetScoreboard() {\r\n        initialSetup();\r\n        updateScoreTable();\r\n    }\r\n\r\n    showCurrentCourseContent();\r\n\r\n    return({ updateScoreTable, resetScoreboard,\r\n        incrementPlayerScore, setScoreArray });\r\n})();\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ScoreBoard);\n\n//# sourceURL=webpack://minigolf/./src/sidebar/score-board.js?");

/***/ }),

/***/ "./src/sidebar/show-announcement.js":
/*!******************************************!*\
  !*** ./src/sidebar/show-announcement.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.js\");\n\r\n\r\nconst announcementElement = document.querySelector('#game-announcement');\r\n\r\nfunction showAnnouncement(announcement, callback) {\r\n    announcementElement.textContent = announcement;\r\n    announcementElement.style.opacity = 1;\r\n    announcementElement.addEventListener('transitionend', handleEntryTransitionEnd);\r\n\r\n    function handleEntryTransitionEnd() {\r\n        setTimeout(() => {\r\n            announcementElement.style.opacity = 0;\r\n            if (typeof callback === 'function') {\r\n                callback();\r\n            }\r\n            announcementElement.removeEventListener('transitionend', handleEntryTransitionEnd);\r\n            announcementElement.addEventListener('transitionend', handleExitTransitionEnd);\r\n        }, 1000*_config__WEBPACK_IMPORTED_MODULE_0__.gameConfig.announcementDuration)\r\n    }\r\n\r\n    function handleExitTransitionEnd() {\r\n        announcementElement.textContent = '';\r\n        announcementElement.removeEventListener('transitionend', handleExitTransitionEnd);\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (showAnnouncement);\n\n//# sourceURL=webpack://minigolf/./src/sidebar/show-announcement.js?");

/***/ }),

/***/ "./src/sidebar/sidebar.js":
/*!********************************!*\
  !*** ./src/sidebar/sidebar.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _score_board__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./score-board */ \"./src/sidebar/score-board.js\");\n/* harmony import */ var _menu_system_menu_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../menu-system/menu-controller */ \"./src/menu-system/menu-controller.js\");\n/* harmony import */ var _chat_box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chat-box */ \"./src/sidebar/chat-box.js\");\n/* harmony import */ var _menu_system_dialog_box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../menu-system/dialog-box */ \"./src/menu-system/dialog-box.js\");\n/* harmony import */ var _player_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./player-list */ \"./src/sidebar/player-list.js\");\n/* harmony import */ var _online_game_handler_online_game_handler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../online-game-handler/online-game-handler */ \"./src/online-game-handler/online-game-handler.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Sidebar = (() => {\r\n    const gameContainer = document.querySelector('#game-container');\r\n    const sidebarBody = document.querySelector('#sidebar-body');\r\n    const sideBarElement = document.querySelector('#sidebar');\r\n\r\n    const toggleSidebarButton = document.querySelector('#sidebar-toggle');\r\n    toggleSidebarButton.addEventListener('click', handleToggleSidebar);\r\n\r\n    const currentCourseElement = document.querySelector('#current-course-number');\r\n    const totalCoursesElement = document.querySelector('#total-number-of-courses');\r\n\r\n    let isCollapsed = false;\r\n    let numberOfCourses;\r\n    let currentCourseNumber = 1;\r\n\r\n    function setNumberOfCourses(numCourses) {\r\n        numberOfCourses = numCourses;\r\n        totalCoursesElement.textContent = numberOfCourses;\r\n    }\r\n\r\n    function getNumberOfCourses() {\r\n        return(numberOfCourses);\r\n    }\r\n\r\n    function setCurrentCourse(courseNumber) {\r\n        currentCourseNumber = courseNumber;\r\n        currentCourseElement.textContent = currentCourseNumber;\r\n    }\r\n\r\n    function incrementCurrentCourse() {\r\n        currentCourseNumber++;\r\n        currentCourseElement.textContent = currentCourseNumber;\r\n    }\r\n\r\n    function handleToggleSidebar() {\r\n        if (isCollapsed) {            \r\n            sidebarBody.classList.remove('hidden');\r\n            sideBarElement.removeAttribute('style');\r\n        } else {\r\n            sidebarBody.classList.add('hidden');\r\n            sideBarElement.style.bottom = 'initial';\r\n        }\r\n        isCollapsed = !isCollapsed;\r\n        console.log(isCollapsed);\r\n    }\r\n\r\n\r\n    const exitButton = document.querySelector(\"#sidebar-exit-button\");\r\n    exitButton.addEventListener('click', handleExit);\r\n    let exitCallback = () => {};\r\n\r\n    function handleExit() {\r\n        const buttonCallbacks = [];\r\n        // TODO: Clean up properly before leaving\r\n        buttonCallbacks.push({text: 'Leave game', callback: () => {\r\n            exitCallback();\r\n        }});\r\n        buttonCallbacks.push({text: 'Cancel'});\r\n        (0,_menu_system_dialog_box__WEBPACK_IMPORTED_MODULE_3__.default)('Are you sure you want to leave the game?', buttonCallbacks);\r\n    }\r\n\r\n    function setExitCallback(callback) {\r\n        exitCallback = callback;\r\n    }\r\n\r\n    // Setup players/chat section\r\n    const chatPlayersEnum = {PLAYERS: 'players', CHAT: 'chat'}\r\n    let currentChatOrPlayers = chatPlayersEnum.CHAT;\r\n    const playerButton = sidebarBody.querySelector('#show-players');\r\n    playerButton.addEventListener('click', handlePlayerClick);\r\n    const chatButton = sidebarBody.querySelector('#show-chat');\r\n    chatButton.addEventListener('click', handleChatClick);\r\n    const chatPlayerTitle = sidebarBody.querySelector('#chat-player-title');\r\n\r\n    const chatPlayerContainer = document.querySelector('#chat-player-container');\r\n\r\n    function handlePlayerClick() {\r\n        if (currentChatOrPlayers === chatPlayersEnum.PLAYERS) return;\r\n        currentChatOrPlayers = chatPlayersEnum.PLAYERS;\r\n\r\n        _chat_box__WEBPACK_IMPORTED_MODULE_2__.default.hide();\r\n        _player_list__WEBPACK_IMPORTED_MODULE_4__.default.show();\r\n\r\n        chatButton.classList.remove('chat-player-selected');\r\n        playerButton.classList.add('chat-player-selected');\r\n        chatPlayerTitle.textContent = currentChatOrPlayers;\r\n    }\r\n\r\n    function handleChatClick() {\r\n        if (currentChatOrPlayers === chatPlayersEnum.CHAT) return;\r\n        currentChatOrPlayers = chatPlayersEnum.CHAT;\r\n        \r\n        _chat_box__WEBPACK_IMPORTED_MODULE_2__.default.show();\r\n        _player_list__WEBPACK_IMPORTED_MODULE_4__.default.hide();\r\n\r\n        playerButton.classList.remove('chat-player-selected');\r\n        chatButton.classList.add('chat-player-selected');\r\n        chatPlayerTitle.textContent = currentChatOrPlayers;\r\n    }\r\n\r\n    function show() {\r\n        sideBarElement.classList.remove('hidden');\r\n    }\r\n\r\n    function hide() {\r\n        sideBarElement.classList.add('hidden');\r\n    }\r\n\r\n    function singleplayerSetup() {\r\n        chatPlayerContainer.classList.add('hidden');\r\n        sideBarElement.classList.add('singleplayer');\r\n    }\r\n\r\n    function reset() {\r\n        sideBarElement.classList.remove('singleplayer');\r\n        sideBarElement.classList.remove('multiplayer');\r\n        _score_board__WEBPACK_IMPORTED_MODULE_0__.default.resetScoreboard();\r\n        _player_list__WEBPACK_IMPORTED_MODULE_4__.default.clear();\r\n        _chat_box__WEBPACK_IMPORTED_MODULE_2__.default.clear();\r\n\r\n    }\r\n\r\n    return({show, hide, setNumberOfCourses, getNumberOfCourses,\r\n        incrementCurrentCourse, setCurrentCourse, singleplayerSetup, setExitCallback, reset})\r\n})();\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Sidebar);\n\n//# sourceURL=webpack://minigolf/./src/sidebar/sidebar.js?");

/***/ }),

/***/ "./src/svg-setup.js":
/*!**************************!*\
  !*** ./src/svg-setup.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/svg-utilities */ \"./src/utilities/svg-utilities.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"./src/config.js\");\n\r\n\r\n\r\nconst rootSVGElement = document.querySelector('#svg-container');\r\nlet timeOfLastScroll = new Date().getTime();\r\n\r\nfunction handleSVGScrollZoom(event) {\r\n    const currentTime = new Date().getTime();\r\n    if (currentTime - timeOfLastScroll < 1000*_config__WEBPACK_IMPORTED_MODULE_1__.svgConfig.scrollDelay) return;\r\n\r\n    const positionComputer = _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__.createSVGPositionComputer(this);\r\n    const mousePosition = positionComputer({x: event.clientX, y: event.clientY});\r\n    const oldViewBox = this.getAttribute('viewBox')\r\n        .split(' ')\r\n        .map(elem => parseFloat(elem));\r\n    \r\n    let newViewBox;\r\n    let deltaYNorm = event.deltaY > 0 ? 1: -1;\r\n    if (deltaYNorm < 0) {\r\n        newViewBox = _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__.computeNewViewBox(oldViewBox, mousePosition, \r\n            _config__WEBPACK_IMPORTED_MODULE_1__.svgConfig.zoomFactor, _config__WEBPACK_IMPORTED_MODULE_1__.svgConfig.centerMouseInterpolation);\r\n    } else {\r\n        newViewBox = _utilities_svg_utilities__WEBPACK_IMPORTED_MODULE_0__.computeNewViewBox(oldViewBox, mousePosition, \r\n            1 / _config__WEBPACK_IMPORTED_MODULE_1__.svgConfig.zoomFactor, 0);\r\n    }\r\n        \r\n    this.setAttribute('viewBox', newViewBox.join(' '));\r\n    timeOfLastScroll = currentTime;\r\n}\r\n\r\nfunction handleSVGMouseDown(event) {\r\n    let initialPosition = {x: event.clientX , y: event.clientY};\r\n    const courseElement = rootSVGElement.querySelector('.course-container');\r\n\r\n    function handleSVGMouseMove(event) {\r\n        const courseClientRect = courseElement.getBoundingClientRect();\r\n        const courseSVGRect = courseElement.getBBox();\r\n\r\n        const viewBox = rootSVGElement.getAttribute('viewBox')\r\n            .split(' ')\r\n            .map(elem => parseFloat(elem));\r\n\r\n        // Current position of pointer\r\n        const currentPosition = {x: event.clientX , y: event.clientY};\r\n\r\n        // How far has the pointer moved since the last move?\r\n        let amountX = currentPosition.x - initialPosition.x;\r\n        let amountY = currentPosition.y - initialPosition.y;\r\n\r\n        // Normalize to values between 0 and 1\r\n        amountX =  amountX * courseSVGRect.width / courseClientRect.width;\r\n        amountY =  amountY * courseSVGRect.height / courseClientRect.height;\r\n\r\n        // Update lower left corner of viewbox\r\n        viewBox[0] -= amountX;\r\n        viewBox[1] -= amountY;\r\n        \r\n        rootSVGElement.setAttribute('viewBox', viewBox.join(' '));\r\n        initialPosition = currentPosition;\r\n    }\r\n\r\n    function handleSVGMouseUp() {\r\n        window.removeEventListener('mousemove', handleSVGMouseMove);\r\n        window.removeEventListener('mouseup', handleSVGMouseUp);\r\n    }\r\n    \r\n    window.addEventListener('mousemove', handleSVGMouseMove);\r\n    window.addEventListener('mouseup', handleSVGMouseUp);\r\n    \r\n}\r\n\r\nrootSVGElement.addEventListener('wheel', handleSVGScrollZoom);\r\nrootSVGElement.addEventListener('mousedown', handleSVGMouseDown);\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (rootSVGElement);\n\n//# sourceURL=webpack://minigolf/./src/svg-setup.js?");

/***/ }),

/***/ "./src/utilities/color-utilities.js":
/*!******************************************!*\
  !*** ./src/utilities/color-utilities.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"interpolateColors\": () => (/* binding */ interpolateColors),\n/* harmony export */   \"generateRandomColor\": () => (/* binding */ generateRandomColor),\n/* harmony export */   \"generateDistinctColor\": () => (/* binding */ generateDistinctColor)\n/* harmony export */ });\n\r\nfunction interpolateColors(hslColor1, hslColor2, weight) {\r\n    const hsl1 = _parseHSLString(hslColor1);\r\n    const hsl2 = _parseHSLString(hslColor2);\r\n\r\n    const s = (1 - weight)*hsl1.s + weight*hsl2.s;\r\n    const l = (1 - weight)*hsl1.l + weight*hsl2.l;\r\n\r\n    let hueDiff = hsl2.h - hsl1.h;\r\n    const hueDelta = Math.abs(hueDiff) > 180 ? (hueDiff < 0 ? 360 : -360) : 0;\r\n    hueDiff += hueDelta;\r\n    const h = hsl1.h + weight * hueDiff;\r\n    \r\n    let hslString = `hsl(${h}, ${s}%, ${l}%)`;\r\n    return(hslString);\r\n}\r\n\r\nfunction _parseHSLString(hslString) {\r\n    let hsl = hslString\r\n        .slice(4)\r\n        .slice(0, -1)\r\n        .split(',')\r\n        .map(elem => parseFloat(elem.trim().replace(\"%\", \"\")));\r\n    return({h: hsl[0], s: hsl[1], l: hsl[2]});\r\n}\r\n\r\nfunction generateRandomColor(hue, saturation, luminosity) {\r\n    if (!hue) hue = 360*Math.random();\r\n    if (!saturation) saturation = 100*Math.random();\r\n    if (!luminosity) luminosity = 100*Math.random();\r\n    return(`hsl(${hue}, ${saturation}%, ${luminosity}%)`);\r\n}\r\n\r\nfunction generateDistinctColor(index, saturation, luminosity) {\r\n    let hue;\r\n    if (index <= 2) {\r\n        hue = 360 * (index - 1) / 2;\r\n    } else {\r\n        let exponent = Math.ceil(Math.log2(index));\r\n        let numerator = 2*(index - 2**(exponent - 1)) - 1;\r\n        hue = 360 * numerator / 2**exponent;\r\n    }\r\n    return(`hsl(${hue}, ${saturation}%, ${luminosity}%)`);\r\n}\r\n\r\n\n\n//# sourceURL=webpack://minigolf/./src/utilities/color-utilities.js?");

/***/ }),

/***/ "./src/utilities/math-utilities.js":
/*!*****************************************!*\
  !*** ./src/utilities/math-utilities.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Vector\": () => (/* binding */ Vector),\n/* harmony export */   \"dotProduct\": () => (/* binding */ dotProduct),\n/* harmony export */   \"crossProduct2D\": () => (/* binding */ crossProduct2D),\n/* harmony export */   \"addVectors\": () => (/* binding */ addVectors),\n/* harmony export */   \"VectorDistance\": () => (/* binding */ VectorDistance),\n/* harmony export */   \"subtractVectors\": () => (/* binding */ subtractVectors),\n/* harmony export */   \"scaleVector\": () => (/* binding */ scaleVector),\n/* harmony export */   \"createUnitVector\": () => (/* binding */ createUnitVector),\n/* harmony export */   \"vectorProjection\": () => (/* binding */ vectorProjection),\n/* harmony export */   \"vectorReflection\": () => (/* binding */ vectorReflection),\n/* harmony export */   \"Edge\": () => (/* binding */ Edge),\n/* harmony export */   \"Path\": () => (/* binding */ Path),\n/* harmony export */   \"computePathEdgeIntersection\": () => (/* binding */ computePathEdgeIntersection),\n/* harmony export */   \"getParallelPaths\": () => (/* binding */ getParallelPaths),\n/* harmony export */   \"isInRange\": () => (/* binding */ isInRange),\n/* harmony export */   \"computeMovingCircleEdgeIntersection\": () => (/* binding */ computeMovingCircleEdgeIntersection)\n/* harmony export */ });\n﻿\r\n// Represents a general two-dimensional vector (or point)\r\nfunction Vector({x, y}) {\r\n    let _x = x;\r\n    let _y = y;\r\n    let _length;\r\n\r\n    function getX() {\r\n        return(_x);\r\n    }\r\n\r\n    function setX(newX) {\r\n        _x = newX;\r\n    }\r\n\r\n    function getY() {\r\n        return(_y);\r\n    }\r\n\r\n    function setY(newY) {\r\n        _y = newY;\r\n    }\r\n\r\n    function getCoordinates() {\r\n        return({x: _x, y: _y})\r\n    }\r\n\r\n    function getPerpendicular() {\r\n        return(Vector({x: -_y, y: _x}));\r\n    }\r\n\r\n    function getLength() {\r\n        if (!_length) {\r\n            _length = Math.sqrt(_x**2 + _y**2)\r\n        }\r\n        return(_length);\r\n    }\r\n\r\n    function normalize() {\r\n        const length = getLength();\r\n        if (length == 0) return;\r\n        _x /= length;\r\n        _y /= length;\r\n    }\r\n\r\n    function getNormalized() {\r\n        return(Vector({x: _x / getLength(), y: _y / getLength()}));\r\n    }\r\n\r\n    function getDirection() {\r\n        return(Math.atan2(_y, _x));\r\n    }\r\n\r\n    function getString() {\r\n        return(`[x: ${_x}, y: ${_y}]`)\r\n    }\r\n    return({ getX, setX, getY, setY, getPerpendicular, getLength, normalize,\r\n            getCoordinates, getNormalized, getDirection, getString })\r\n}\r\n\r\nfunction dotProduct(vector1, vector2) {\r\n    return(vector1.getX()*vector2.getX() + vector1.getY()*vector2.getY());\r\n}\r\n\r\nfunction crossProduct2D(vector1, vector2) {\r\n    return(vector1.getX()*vector2.getY() - vector2.getX()*vector1.getY());\r\n}\r\n\r\nfunction addVectors(vector1, vector2) {\r\n    const sumX = vector1.getX() + vector2.getX();\r\n    const sumY = vector1.getY() + vector2.getY();\r\n    return(Vector({x: sumX, y: sumY}));\r\n}\r\n\r\nfunction subtractVectors(vector1, vector2) {\r\n    const differenceX = vector1.getX() - vector2.getX();\r\n    const differenceY = vector1.getY() - vector2.getY();\r\n    return(Vector({x: differenceX, y: differenceY}));\r\n}\r\n\r\nfunction scaleVector(vector, scalar) {\r\n    const scaledX = scalar*vector.getX();\r\n    const scaledY = scalar*vector.getY();\r\n    return(Vector({x: scaledX, y: scaledY}));\r\n}\r\n\r\nfunction createUnitVector(direction) {\r\n    return(Vector({x: Math.cos(direction), y: Math.sin(direction)}));\r\n}\r\n\r\n// Computes the projection of vectorA onto vectorB\r\nfunction vectorProjection(vectorA, vectorB) {\r\n    const scalarProjection = dotProduct(vectorA, vectorB) / vectorB.getLength()**2;\r\n    return(scaleVector(vectorB, scalarProjection));\r\n}\r\n\r\n// Reflects the vectorA by vectorB. This is done by first computing the vector\r\n// rejection of vectorA on vectorB (vectorA - the projection of vectorA on vectorB).\r\n// Then, the reflection is given by vectorA - 2*(rejection of vectorA on vectorB)\r\nfunction vectorReflection(vectorA, vectorB) {\r\n    const rejection = subtractVectors(vectorA, vectorProjection(vectorA, vectorB));\r\n    return(subtractVectors(vectorA, scaleVector(rejection, 2)));\r\n}\r\n\r\nfunction VectorDistance(vector1, vector2) {\r\n    return(subtractVectors(vector2, vector1).getLength());\r\n}\r\n\r\n// Represents an edge in a polygon\r\nfunction Edge(startVertex, endVertex) {\r\n    let _startVertex = startVertex;\r\n    let _endVertex = endVertex;\r\n    let _diffVector = subtractVectors(_endVertex, _startVertex);\r\n\r\n    function getLength() {\r\n        return(_diffVector.getLength());\r\n    }\r\n\r\n    function getStartVertex() {\r\n        return(_startVertex);\r\n    }\r\n\r\n    function getEndVertex() {\r\n        return(_endVertex);\r\n    }\r\n\r\n    function getDifferenceVector() {\r\n        return(_diffVector);\r\n    }\r\n\r\n    // Takes in a position on the edge and computes the proportion,\r\n    // so that a value between 0 (startVertex) and 1 (endVertex) is returned\r\n    // when the position is on the edge\r\n    function computePositionProportion(position) {\r\n        const startPositionDistance = subtractVectors(startVertex, position).getLength();\r\n        const endPositionDistance = subtractVectors(endVertex, position).getLength();\r\n        const proportion = startPositionDistance / getLength();\r\n        if (endPositionDistance > getLength()) {\r\n            return(-proportion);\r\n        }\r\n        return(proportion);\r\n    }\r\n\r\n    function getString() {\r\n        return(`Start: ${_startVertex.getString()}, end: ${_endVertex.getString()}`)\r\n    }\r\n    \r\n    return({ getLength, getStartVertex, getEndVertex, getDifferenceVector, getString,\r\n            computePositionProportion });\r\n}\r\n\r\n// A path describes the motion of the ball\r\nfunction Path(initialPoint, directionVector) {\r\n    let _initialPoint = initialPoint;\r\n    let _directionVector = directionVector;\r\n\r\n    function getInitialPoint() {\r\n        return(_initialPoint);\r\n    }\r\n\r\n    function getDirectionVector() {\r\n        return(_directionVector);\r\n    }\r\n\r\n    function getPositionAtTime(time) {\r\n        return(addVectors(_initialPoint, scaleVector(_directionVector, time)));\r\n    }\r\n\r\n    function getString() {\r\n        return(`Initial point: ${_initialPoint.getString()}, direction: ${_directionVector.getString()}`)\r\n    }\r\n\r\n    return({ getInitialPoint, getDirectionVector, getPositionAtTime, getString });\r\n}\r\n\r\n// Useful reference: Intersection of two line segments\r\nfunction computePathEdgeIntersection(path, edge) {\r\n    // Path is on the form pathStart + pathVector*t, where t >= 0\r\n    const pathStart = path.getInitialPoint();\r\n    const pathVector = path.getDirectionVector();\r\n\r\n    // Edge is on form edgeStart + edgeVector*u, where 0 <= s <= 1\r\n    const edgeStart = edge.getStartVertex();\r\n    const edgeVector = edge.getDifferenceVector();\r\n\r\n    // Intersection when t = (edgeStart - pathStart) × edgeVector / (pathVector × edgeVector)\r\n    //                or u = (edgeStart - pathStart) × pathVector / (pathVector × edgeVector)\r\n    const startDiff = subtractVectors(edgeStart, pathStart);\r\n    const denominator = crossProduct2D(pathVector, edgeVector);\r\n    if (denominator === 0) return;\r\n\r\n    const t = crossProduct2D(startDiff, edgeVector) / denominator;\r\n    const u = crossProduct2D(startDiff, pathVector) / denominator;\r\n    const intersectionPoint = path.getPositionAtTime(t);\r\n    return({ intersectionPoint, pathParameter: t, edgeParameter: u});\r\n}\r\n\r\n// Given a circle and a path, returns the two paths that are parallel to the \r\n// original path and tangetial to the circle. These will go in the same \r\n// direction, but start in different points\r\nfunction getParallelPaths(path, radius) {\r\n    const directionVector = path.getDirectionVector();\r\n    const unitPerpVector = directionVector.getNormalized().getPerpendicular();\r\n\r\n    const initialPointA = addVectors(path.getInitialPoint(), scaleVector(unitPerpVector, radius));\r\n    const initialPointB = subtractVectors(path.getInitialPoint(), scaleVector(unitPerpVector, radius));\r\n    return({pathA: Path(initialPointA, directionVector), pathB: Path(initialPointB, directionVector)})\r\n}\r\n\r\nfunction isInRange(value, lower, upper) {\r\n    return(value >= lower && value <= upper);\r\n}\r\n\r\n// Computes the intersection point between a circle moving along a straight\r\n// path and an edge\r\nfunction computeMovingCircleEdgeIntersection(path, radius, edge) {\r\n    // Path is on the form pathStart + pathVector*t, where t >= 0\r\n    const pathStart = path.getInitialPoint();\r\n    const pathVector = path.getDirectionVector();\r\n\r\n    // Edge is on form edgeStart + edgeVector*u, where 0 <= s <= 1\r\n    const edgeStart = edge.getStartVertex();\r\n    const edgeEnd = edge.getEndVertex();\r\n    const edgeVector = edge.getDifferenceVector();\r\n\r\n    let time = (radius*edgeVector.getLength() + \r\n        dotProduct(pathStart.getPerpendicular(), edgeVector) +\r\n        dotProduct(edgeStart, edgeEnd.getPerpendicular())) / \r\n        dotProduct(pathVector, edgeVector.getPerpendicular())\r\n    let collisionCenter = path.getPositionAtTime(time);\r\n\r\n    const edgeStartCentered = subtractVectors(edgeStart, collisionCenter);\r\n    const edgeEndCentered = subtractVectors(edgeEnd, collisionCenter);\r\n    const crossProd = crossProduct2D(edgeStartCentered, edgeEndCentered);\r\n\r\n    const collisionPointX = collisionCenter.getX() + \r\n        crossProd * edgeVector.getY() / edgeVector.getLength()**2;\r\n    const collisionPointY = collisionCenter.getY() - \r\n        crossProd * edgeVector.getX() / edgeVector.getLength()**2;\r\n    let collisionPoint = Vector({x: collisionPointX, y: collisionPointY});\r\n\r\n    const collisionEdgeProportion = edge.computePositionProportion(collisionPoint);\r\n    // If this value is between 0 and 1, the collision occurs on the \"flat\" \r\n    // part of the edge, not on a corner\r\n    if (isInRange(collisionEdgeProportion, 0, 1)) {\r\n        return({time, collisionCenter, collisionPoint});\r\n    } else if (isInRange(collisionEdgeProportion, -Infinity, 0)) {\r\n        // If computed collision happens before start of edge,\r\n        // the circle will collide with the start vertex\r\n        collisionPoint = edgeStart;\r\n    } else {\r\n        // Otherwise, it will collide with the end vertex\r\n        collisionPoint = edgeEnd;\r\n    }\r\n\r\n    const startColDiff = subtractVectors(pathStart, collisionPoint);\r\n    time = - (Math.sqrt((dotProduct(startColDiff, pathVector))**2 -\r\n        pathVector.getLength()**2*(startColDiff.getLength()**2 - radius**2)) +\r\n        dotProduct(startColDiff, pathVector))/(pathVector.getLength()**2);\r\n    collisionCenter = path.getPositionAtTime(time);\r\n    return({time, collisionCenter, collisionPoint});\r\n}\r\n\r\n\n\n//# sourceURL=webpack://minigolf/./src/utilities/math-utilities.js?");

/***/ }),

/***/ "./src/utilities/online-utilities.js":
/*!*******************************************!*\
  !*** ./src/utilities/online-utilities.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"checkValidId\": () => (/* binding */ checkValidId)\n/* harmony export */ });\n\r\nfunction checkValidId(name) {\r\n    const nameArray = [...name.toLowerCase()];\r\n    const isValid = nameArray.every(char => {\r\n        const c = char.charCodeAt(0);\r\n        return((c >= 97 && c <= 122) || (c >= 48 && c <= 57) || c === 45);\r\n    });\r\n    return(isValid);\r\n}\r\n\r\n\n\n//# sourceURL=webpack://minigolf/./src/utilities/online-utilities.js?");

/***/ }),

/***/ "./src/utilities/svg-utilities.js":
/*!****************************************!*\
  !*** ./src/utilities/svg-utilities.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"setAttributes\": () => (/* binding */ setAttributes),\n/* harmony export */   \"drawLine\": () => (/* binding */ drawLine),\n/* harmony export */   \"drawPolygon\": () => (/* binding */ drawPolygon),\n/* harmony export */   \"drawCircle\": () => (/* binding */ drawCircle),\n/* harmony export */   \"createGroupElement\": () => (/* binding */ createGroupElement),\n/* harmony export */   \"setCirclePosition\": () => (/* binding */ setCirclePosition),\n/* harmony export */   \"setLineEnd\": () => (/* binding */ setLineEnd),\n/* harmony export */   \"createSVGPositionComputer\": () => (/* binding */ createSVGPositionComputer),\n/* harmony export */   \"setSVGExtent\": () => (/* binding */ setSVGExtent),\n/* harmony export */   \"computeNewViewBox\": () => (/* binding */ computeNewViewBox)\n/* harmony export */ });\n\r\nconst XMLNS = 'http://www.w3.org/2000/svg';\r\n\r\nfunction createSVGPositionComputer(rootSVGElement) {\r\n    const point = rootSVGElement.createSVGPoint();\r\n    function computeSVGPosition(clientPosition) {\r\n        point.x = clientPosition.x;\r\n        point.y = clientPosition.y;\r\n        return(point.matrixTransform(rootSVGElement.getScreenCTM().inverse()));\r\n    }\r\n    return(computeSVGPosition);\r\n}\r\n\r\nfunction setAttributes(element, attributes) {\r\n    if (!attributes) return;\r\n    for (const name in attributes) {\r\n        element.setAttribute(name, attributes[name]);\r\n    }\r\n}\r\n\r\nfunction createGeneralElement(type, attributes, classArray) {\r\n    const element = document.createElementNS(XMLNS, type);\r\n    classArray?.forEach(className => element.classList.add(className));\r\n    setAttributes(element, attributes);\r\n    return(element);\r\n}\r\n\r\nfunction drawLine(parentSVGElement, startPoint, endPoint, attributes, classArray) {\r\n    attributes.x1 = startPoint.x ?? startPoint.getX();\r\n    attributes.y1 = startPoint.y ?? startPoint.getY();\r\n    attributes.x2 = endPoint.x ?? endPoint.getX();\r\n    attributes.y2 = endPoint.y ?? endPoint.getY();\r\n\r\n    const lineElement = createGeneralElement('line', attributes, classArray);\r\n\r\n    parentSVGElement.append(lineElement);\r\n    return(lineElement);\r\n    \r\n}\r\n\r\nfunction drawPolygon(parentSVGElement, vertices, attributes, classArray) {\r\n    // Format expected by SVG polygon: x1,y1 x2,y2,...\r\n    const vertexString = vertices\r\n        .map(vertex => `${vertex.x ?? vertex.getX() },${vertex.y ?? vertex.getY()}`)\r\n        .join(\" \");\r\n    attributes.points = vertexString;\r\n\r\n    const polygonElement = createGeneralElement('polygon', attributes, classArray);\r\n\r\n    parentSVGElement.append(polygonElement);\r\n    return(polygonElement);\r\n}\r\n\r\nfunction drawCircle(parentSVGElement, center, attributes, classArray) {\r\n    attributes.cx = center.x ?? center.getX();\r\n    attributes.cy = center.y ?? center.getY();\r\n\r\n    const circleElement = createGeneralElement('circle', attributes, classArray);\r\n\r\n    parentSVGElement.append(circleElement);\r\n    return(circleElement);\r\n}\r\n\r\nfunction createGroupElement(classArray) {\r\n    const groupElement = createGeneralElement('g', null, classArray);\r\n    return(groupElement);\r\n}\r\n\r\nfunction setCirclePosition(circleElement, position) {\r\n    setAttributes(circleElement, {cx: position.x, cy: position.y});\r\n}\r\n\r\nfunction setLineEnd(lineElement, endPosition) {\r\n    setAttributes(lineElement, {'x2': endPosition.x ?? endPosition.getX(), \r\n        'y2': endPosition.y ?? endPosition.getY()});\r\n}\r\n\r\nfunction setSVGExtent(rootSVGElement, extent, padding) {\r\n    const width = extent.xMax - extent.xMin;\r\n    const height = extent.yMax - extent.yMin;\r\n\r\n    const xMinPadded = extent.xMin - padding*width;\r\n    const yMinPadded = extent.yMin - padding*height;\r\n    const widthPadded = (1 + 2*padding)*width;\r\n    const heightPadded = (1 + 2*padding)*height;\r\n    const viewBoxString = `${xMinPadded} ${yMinPadded} ${widthPadded} ${heightPadded}`;\r\n    rootSVGElement.setAttribute('viewBox', viewBoxString);\r\n}\r\n\r\nfunction computeNewViewBox(oldViewBox, mousePosition, zoomFactor, centerWeight) {\r\n    const midX = oldViewBox[0] + oldViewBox[2]/2;\r\n    const midY = oldViewBox[1] + oldViewBox[3]/2;\r\n\r\n    const newMidX = midX + centerWeight * (mousePosition.x - midX);\r\n    const newMidY = midY + centerWeight * (mousePosition.y - midY);\r\n\r\n    const newWidth = zoomFactor*oldViewBox[2];\r\n    const newHeight = zoomFactor*oldViewBox[3];\r\n\r\n    const newX = newMidX - newWidth/2;\r\n    const newY = newMidY - newHeight/2;\r\n    let newViewBox = [newX, newY, newWidth, newHeight];\r\n    return(newViewBox);\r\n};\r\n\r\n\n\n//# sourceURL=webpack://minigolf/./src/utilities/svg-utilities.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;